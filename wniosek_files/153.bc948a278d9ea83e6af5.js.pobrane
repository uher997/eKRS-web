(window.webpackJsonp=window.webpackJsonp||[]).push([[153],{wz4m:function(t,e,n){"use strict";n.r(e),n.d(e,"NazwaWnioskuModule",(function(){return b}));var a=n("nIj0"),o=n("2kYt"),r=n("sEIs"),i=n("wgY5"),s=n("4e/d"),c=n("ROBh"),l=n("TUxC"),d=n("EM62"),u=n("Ld6Z"),p=n("d7xp"),m=n("Jzyt");let h=(()=>{class t{constructor(t,e,n,a,o){this.container=t,this.eformService=e,this.ekrsService=n,this.notificationService=a,this.translocoService=o}ngOnInit(){var t;const e=this.ekrsService.czyPismo(this.parentForm.getFormularz().rodzajWniosek);this.utworzNazweWlasna=e?"utworzNazweWlasnaPisma":"utworzNazweWlasnaWniosku",this.nazwaWnioskuForm=this.container.control.get("nazwaWniosku"),(null===(t=this.nazwaWnioskuForm.value)||void 0===t?void 0:t.nazwa)||this.initDefaultName()}setParentAcessData(t){this.parentForm=t}initDefaultName(){this.eformService.getFormCount().pipe(Object(s.a)(()=>(this.notificationService.warn(new l.Z({summary:this.translocoService.translate("error.liczbaWnioskow")})),Object(c.a)({result:0})))).subscribe(t=>{const{symbol:e}=this.eformService.ekrsFormHandler$.getValue().defaults,n=t.result+1,a=i().format("ssmmHHDDMMYYYY");this.defaultName=`${e}_${n}_${a}_${this.randomLetter()}${this.randomLetter()}${this.randomLetter()}`,this.handleFocusOut()})}randomLetter(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ",e=t.length;return t.charAt(Math.floor(Math.random()*e))}handleFocusOut(){var t;(null===(t=this.nazwaWnioskuForm.value)||void 0===t?void 0:t.nazwa)||this.nazwaWnioskuForm.get("nazwa").setValue(this.defaultName)}}return t.\u0275fac=function(e){return new(e||t)(d.Nb(a.a),d.Nb(u.a),d.Nb(p.a),d.Nb(l.Eb),d.Nb(m.f))},t.\u0275cmp=d.Hb({type:t,selectors:[["app-nazwa-wniosku"]],decls:3,vars:6,consts:[["role","group","aria-labelledby","nazwa",1,"fieldset",3,"formGroup","keydown.enter"],["formControlName","nazwa","maxLength","4000","name","nazwa",3,"label","showClear","capitalize","focusout"]],template:function(t,e){1&t&&(d.Tb(0,"fieldset",0),d.ac("keydown.enter",(function(t){return t.preventDefault()})),d.Tb(1,"ds-input",1),d.ac("focusout",(function(){return e.handleFocusOut()})),d.dc(2,"transloco"),d.Sb(),d.Sb()),2&t&&(d.jc("formGroup",e.nazwaWnioskuForm),d.Ab(1),d.jc("label",d.ec(2,4,e.utworzNazweWlasna))("showClear",!0)("capitalize",!0))},directives:[a.q,a.h,l.y,a.p,a.f],pipes:[m.e],styles:["",".container[_ngcontent-%COMP%]{display:flex}.fieldset[_ngcontent-%COMP%]{border:none;padding:0;margin:0}.fieldset[_ngcontent-%COMP%] > .ds-panel--margin[_ngcontent-%COMP%]:first-child{margin-top:0}.card[_ngcontent-%COMP%]{background-color:#fff;padding:16px;border:1px solid #e0e0e0;border-radius:2px}.p-grid[_ngcontent-%COMP%]   ds-checkbox[_ngcontent-%COMP%]     p-checkbox{margin-top:1.85rem}label[_ngcontent-%COMP%]{color:#606060;display:block;font-size:14px;padding:0}ds-table[_ngcontent-%COMP%]    >div>p-table   tr.table-row td.row-button-actions ds-button.p-mr-2:last-child{margin-right:0!important}ds-table[_ngcontent-%COMP%]    >div>p-table   th{word-break:break-word}ds-table[_ngcontent-%COMP%]    >div>p-table   .ekrs-shrink-padding{padding:.75rem .25rem}ds-inputmask[_ngcontent-%COMP%]     .p-inputtext{height:33.61px!important}ds-autocomplete[_ngcontent-%COMP%]    >div>p-autocomplete  >span>input::-moz-placeholder{text-transform:none}ds-autocomplete[_ngcontent-%COMP%]    >div>p-autocomplete  >span>input::placeholder{text-transform:none}sirsim-overlay[_ngcontent-%COMP%]   ds-table[_ngcontent-%COMP%]     .p-datatable  {padding:20px 0}ds-table[_ngcontent-%COMP%]     .custom-table-footer{padding:0 1rem;margin-bottom:1rem}"]}),t})(),b=(()=>{class t{}return t.\u0275mod=d.Lb({type:t}),t.\u0275inj=d.Kb({factory:function(e){return new(e||t)},imports:[[o.c,a.j,a.u,m.d,l.z,r.i.forChild([{path:"",component:h}])]]}),t})()}}]);