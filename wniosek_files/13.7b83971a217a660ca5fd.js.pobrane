(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"7qAY":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var a=r("nIj0"),o=r("EM62"),i=r("Wofr");let n=(()=>{class e{constructor(e,t){this.builder=e,this.formValidatorsService=t}getForm(){try{return this.builder.group({nazwa:this.builder.control("ZG\u0141OSZENIE POSIADANEGO ADRESU DO DOR\u0118CZE\u0143 ELEKTRONICZNYCH POWI\u0104ZANEGO Z KWALIFIKOWAN\u0104 US\u0141UG\u0104 REJESTROWANEGO DOR\u0118CZENIA ELEKTRONICZNEGO"),symbol:this.builder.control("KRS-ZGL-P-ADE"),wersja:this.builder.control("1.0"),schemaLocation:this.builder.control("http://ekrs.ms.gov.pl/dokumenty/ zgloszeniePosADE.xsd"),AdresDoKorespondencji:this.builder.group({type:this.builder.control("dk:AdresDoKorespondencjiZagranicznyBAE"),Kraj:["",[a.w.required,a.w.maxLength(64)]],Wojewodztwo:[""],Powiat:[""],Gmina:[""],Miejscowosc:["",[a.w.required,a.w.maxLength(64)]],Ulica:["",[a.w.maxLength(64)]],NumerDomu:["",[a.w.maxLength(10)]],NumerLokalu:["",[a.w.maxLength(10)]],KodPocztowy:[""],Poczta:["",[a.w.maxLength(50)]]},{validators:[e=>{"POLSKA"===e.value.Kraj?(e.get("Wojewodztwo").setValidators([a.w.required,a.w.maxLength(50)]),e.get("Powiat").setValidators([a.w.required,a.w.maxLength(64)]),e.get("Gmina").setValidators([a.w.required,a.w.maxLength(64)]),e.get("KodPocztowy").setValidators([a.w.required,a.w.maxLength(10),this.formValidatorsService.getKodPocztowyValidator()])):(e.get("Wojewodztwo").setValidators([a.w.maxLength(50)]),e.get("Powiat").setValidators([a.w.maxLength(64)]),e.get("Gmina").setValidators([a.w.maxLength(64)]),e.get("KodPocztowy").setValidators([a.w.required,a.w.maxLength(10)]))}]}),Oswiadczenia:this.builder.group({CzyRezygnacjaZAktualnegoADE:this.builder.control(null),AdresDoDoreczenElektronicznych:[null,[a.w.required,a.w.pattern(/(AE:)\w{2}-\d{5}-\d{5}-\w{5}-\d{2}/)]],DostawcaKwalUsRejDorEl:[null,[a.w.required]],OznaczenieDostawcy:[null,[a.w.required]]})})}catch(e){return console.log(e),null}}}return e.\u0275fac=function(t){return new(t||e)(o.Xb(a.c),o.Xb(i.a))},e.\u0275prov=o.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"W8+Q":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var a=r("KFNi"),o=r("WwIf"),i=r("EM62");let n=(()=>{class e{constructor(){this.xsdFieldList=["nazwa","symbol","wersja","schemaLocation"]}mapForm(e,t){switch(t){case o.a.ZGLOSZENIE_DANYCH_DO_UTWORZENIA:return this.mapZgloszenieDanychDoUtworzenia(e);case o.a.ZGLOSZENIE_POSIADANEGO_ADRESU:return this.mapZgloszeniePosiadanegoAdresu(e);case o.a.AKTUALIZACJA_DANYCH_ADMINISTRATORA:return this.mapAktualizacjaDanychAdministratora(e);case o.a.OSWIADCZENIE_O_POSIADANIU_ADRESU:return this.mapOswiadczenieOPosiadaniuAdresu(e);case o.a.OSWIADCZENIE_O_REZYGNACJI:return this.mapOswiadczenieORezygnacji(e);default:return null}}mapZgloszenieDanychDoUtworzenia(e){try{const t=[...this.xsdFieldList,"AdresDoKorespondencji","AdministratorADE","Oswiadczenia.CzyPodmiotPubliczny"],r=e.getRawValue();let a={Oswiadczenia:{}};return this.mapSameFields(t,a,r),this.mapCzyRezygnacjaZAktualnegoADE(a,r),this.setTypeForAddressBySelectedCountry(a.AdresDoKorespondencji),a.AdministratorADE.PESEL?a.AdministratorADE.OswiadczenieBrakPESEL=null:(a.AdministratorADE.PESEL=null,a.AdministratorADE.OswiadczenieBrakPESEL="NIE POSIADA NUMERU PESEL"),a}catch(t){console.log(t)}}mapZgloszeniePosiadanegoAdresu(e){try{try{const t=[...this.xsdFieldList,"AdresDoKorespondencji","Oswiadczenia.AdresDoDoreczenElektronicznych","Oswiadczenia.OznaczenieDostawcy","Oswiadczenia.DostawcaKwalUsRejDorEl"],r=e.getRawValue();let a={Oswiadczenia:{}};return this.mapSameFields(t,a,r),this.mapCzyRezygnacjaZAktualnegoADE(a,r),this.mapOznaczenieDostawcy(a,r),this.setTypeForAddressBySelectedCountry(a.AdresDoKorespondencji),a}catch(t){console.log(t)}}catch(t){console.log(t)}}mapAktualizacjaDanychAdministratora(e){try{const t=[...this.xsdFieldList,"Podmiot","AktualizacjaDanychAdministratora","AktualizacjaAdresuDoDoreczen","AdresDoDoreczenElektronicznych","NoweDaneAdministratoraADE","NowyAdresDoKorespondencji"],r=e.getRawValue();let a={};return this.mapSameFields(t,a,r),this.setTypeForAddressBySelectedCountry(a.NowyAdresDoKorespondencji),a.AktualizacjaAdresuDoDoreczen||(a.NowyAdresDoKorespondencji=null),a.AktualizacjaDanychAdministratora?a.NoweDaneAdministratoraADE.PESEL?a.NoweDaneAdministratoraADE.OswiadczenieBrakPESEL=null:(a.NoweDaneAdministratoraADE.PESEL=null,a.NoweDaneAdministratoraADE.OswiadczenieBrakPESEL="NIE POSIADA NUMERU PESEL"):a.NoweDaneAdministratoraADE=null,a}catch(t){console.log(t)}}mapOswiadczenieOPosiadaniuAdresu(e){try{const t=[...this.xsdFieldList,"Podmiot"],r=e.getRawValue();let a={};return this.mapSameFields(t,a,r),a.Oswiadczenie=null,r.Oswiadczenie&&(a.Oswiadczenie="O\u015aWIADCZAM, \u017bE PODMIOT POSIADA ADRES DO DOR\u0118CZE\u0143 ELEKTRONICZNYCH WPISANY DO BAZY ADRES\xd3W ELEKTRONICZNYCH. DANE ZAMIESZCZONE W BAZIE ADRES\xd3W ELEKTRONICZNYCH S\u0104 AKTUALNE."),a}catch(t){console.log(t)}}mapOswiadczenieORezygnacji(e){try{const t=[...this.xsdFieldList,"Podmiot"],r=e.getRawValue();let a={};return this.mapSameFields(t,a,r),a.Oswiadczenie=null,r.Oswiadczenie&&(a.Oswiadczenie="O\u015aWIADCZAM, \u017bE REZYGNUJ\u0118 Z WPISU DO BAE POSIADANEGO ADRESU DO DOR\u0118CZE\u0143 ELEKTRONICZNYCH."),a}catch(t){console.log(t)}}mapSameFields(e,t,r){try{for(const a of e)if(a.includes(".")){const e=a.split(".")[0],o=a.split(".")[1];t[e][o]=null,r[e][o]&&(t[e][o]=r[e][o])}else t[a]=null,r[a]&&(t[a]=r[a])}catch(a){console.log(a)}}setNullInsteadOfEmptyString(e){try{for(const t in e)""==e[t]&&(e[t]=null);return e}catch(t){console.log(t)}}setTypeForAddressBySelectedCountry(e){try{e.type="dk:AdresDoKorespondencjiZagranicznyBAE","POLSKA"==e.Kraj&&(e.type="dk:AdresDoKorespondencjiKrajowyBAE")}catch(t){console.log(t)}}mapResponseToJsonValue(e){try{if(!(null==e?void 0:e.tresc))return null;const t=JSON.parse(e.tresc);if(null==t?void 0:t.hasOwnProperty("Oswiadczenia")){const e=["CzyRezygnacjaZAktualnegoADE"];for(const r of e){const e=t.Oswiadczenia[r];t.Oswiadczenia[r]="TAK"===e||"NIE"!==e&&null}}(null==t?void 0:t.hasOwnProperty("Oswiadczenie"))&&t.Oswiadczenie&&(t.Oswiadczenie=!0);for(const e in t)null==t[e]&&delete t[e];return t}catch(t){return console.log(t),null}}mapCzyRezygnacjaZAktualnegoADE(e,t){var r;try{e.Oswiadczenia.CzyRezygnacjaZAktualnegoADE=null,e.Oswiadczenia.CzyRezygnacjaZAktualnegoADE=(null===(r=t.Oswiadczenia)||void 0===r?void 0:r.CzyRezygnacjaZAktualnegoADE)?"TAK":"NIE"}catch(a){console.log(a)}}mapOznaczenieDostawcy(e,t){var r;try{"krs"==(null===(r=null==t?void 0:t.Oswiadczenia)||void 0===r?void 0:r.OznaczenieDostawcy)&&(e.Oswiadczenia.DostawcaKwalUsRejDorEl=a.a.normalizeKRS(t.Oswiadczenia.DostawcaKwalUsRejDorEl))}catch(o){console.log(o)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},WwIf:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var a=function(e){return e.ZGLOSZENIE_DANYCH_DO_UTWORZENIA="ZgloszenieNowyADE",e.ZGLOSZENIE_POSIADANEGO_ADRESU="ZgloszeniePosADE",e.AKTUALIZACJA_DANYCH_ADMINISTRATORA="AktualizacjaAdmADE",e.OSWIADCZENIE_O_POSIADANIU_ADRESU="OswiadczenieOPosADE",e.OSWIADCZENIE_O_REZYGNACJI="OswiadczenieRezPosADE",e}({})},YnjT:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var a=r("nIj0");let o=(()=>{class e{}return e.validator=e=>{try{return t=>{var r;for(const a of e)if(null===(r=t.get(a))||void 0===r?void 0:r.value)return null;return{atLeastOneFilledValidator:!0}}}catch(t){console.log(t)}},e})();var i=r("EM62"),n=r("Wofr");let s=(()=>{class e{constructor(e,t){this.builder=e,this.formValidatorsService=t}getForm(e){try{return this.builder.group({nazwa:this.builder.control("AKTUALIZACJA DANYCH ADMINISTRATORA I / LUB ADRESU DO KORESPONDENCJI"),symbol:this.builder.control("KRS-AKT-ADM-ADE"),wersja:this.builder.control("1.0"),schemaLocation:this.builder.control("http://ekrs.ms.gov.pl/dokumenty/ aktualizacjaAdmADE.xsd"),Podmiot:this.builder.group({KRS:this.builder.control({value:e||null,disabled:!0},[a.w.required])}),AktualizacjaDanychAdministratora:this.builder.control(!1),AktualizacjaAdresuDoDoreczen:this.builder.control(!1),AdresDoDoreczenElektronicznych:[null,[a.w.required,a.w.pattern(/(AE:)\w{2}-\d{5}-\d{5}-\w{5}-\d{2}/)]],NoweDaneAdministratoraADE:this.builder.group({Imie:this.builder.control(null,[a.w.required,a.w.maxLength(50)]),Nazwisko:this.builder.control(null,[a.w.required,a.w.maxLength(100)]),PESEL:this.builder.control(null,[a.w.required]),AdresEMail:this.builder.control(null,[a.w.required,a.w.maxLength(254),this.formValidatorsService.getAdresEmailValidator()]),IdentyfikatorEU:this.builder.control({value:null,disabled:!0},[a.w.required,a.w.maxLength(64)]),OswiadczenieBrakPESEL:[!1]},{validators:[this.formValidatorsService.getOptionalFieldValidator("PESEL","OswiadczenieBrakPESEL","inconsistentPeselDeclaration")]}),NowyAdresDoKorespondencji:this.builder.group({type:this.builder.control("dk:AdresDoKorespondencjiZagranicznyBAE"),Kraj:["",[a.w.required,a.w.maxLength(64)]],Wojewodztwo:[""],Powiat:[""],Gmina:[""],Miejscowosc:["",[a.w.required,a.w.maxLength(64)]],Ulica:["",[a.w.maxLength(64)]],NumerDomu:["",[a.w.maxLength(10)]],NumerLokalu:["",[a.w.maxLength(10)]],KodPocztowy:[""],Poczta:["",[a.w.maxLength(50)]]},{validators:[e=>{"POLSKA"===e.value.Kraj?(e.get("Wojewodztwo").setValidators([a.w.required,a.w.maxLength(50)]),e.get("Powiat").setValidators([a.w.required,a.w.maxLength(64)]),e.get("Gmina").setValidators([a.w.required,a.w.maxLength(64)]),e.get("KodPocztowy").setValidators([a.w.required,a.w.maxLength(10),this.formValidatorsService.getKodPocztowyValidator()])):(e.get("Wojewodztwo").setValidators([a.w.maxLength(50)]),e.get("Powiat").setValidators([a.w.maxLength(64)]),e.get("Gmina").setValidators([a.w.maxLength(64)]),e.get("KodPocztowy").setValidators([a.w.required,a.w.maxLength(10)]))}]})},{validators:[o.validator(["AktualizacjaDanychAdministratora","AktualizacjaAdresuDoDoreczen"])]})}catch(t){return console.log(t),null}}}return e.\u0275fac=function(t){return new(t||e)(i.Xb(a.c),i.Xb(n.a))},e.\u0275prov=i.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},tOfI:function(e,t,r){"use strict";r.d(t,"a",(function(){return g}));var a=r("D57K"),o=r("WwIf"),i=r("C05f"),n=r("AytR"),s=r("ROBh"),l=r("EM62"),c=r("vobO"),d=r("W8+Q"),u=r("nIj0");let w=(()=>{class e{constructor(e){this.builder=e}getForm(e){try{return this.builder.group({nazwa:this.builder.control("O\u015aWIADCZENIE O POSIADANIU ADRESU DO DOR\u0118CZE\u0143 ELEKTRONICZNYCH"),symbol:this.builder.control("KRS-OSW-POS-ADE"),wersja:this.builder.control("1.0"),schemaLocation:this.builder.control("http://ekrs.ms.gov.pl/dokumenty/ oswiadczenieOPosADE.xsd"),Podmiot:this.builder.group({KRS:this.builder.control({value:e||null,disabled:!0},[u.w.required])}),Oswiadczenie:this.builder.control(null,[u.w.required,u.w.requiredTrue])})}catch(t){return console.log(t),null}}}return e.\u0275fac=function(t){return new(t||e)(l.Xb(u.c))},e.\u0275prov=l.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var A=r("zFCD");let h=(()=>{class e{constructor(e){this.builder=e}getForm(e){try{return this.builder.group({nazwa:this.builder.control("O\u015aWIADCZENIE O REZYGNACJI Z WPISU DO BAE POSIADANEGO ADRESU DO DOR\u0118CZE\u0143 ELEKTRONICZNYCH"),symbol:this.builder.control("KRS-REZ-WPIS-ADE"),wersja:this.builder.control("1.0"),schemaLocation:this.builder.control("http://ekrs.ms.gov.pl/dokumenty/ oswiadczenieRezPosADE.xsd"),Podmiot:this.builder.group({KRS:this.builder.control({value:e||null,disabled:!0},[u.w.required])}),Oswiadczenie:this.builder.control(null,[u.w.required,u.w.requiredTrue])})}catch(t){return console.log(t),null}}}return e.\u0275fac=function(t){return new(t||e)(l.Xb(u.c))},e.\u0275prov=l.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var E=r("7qAY"),m=r("YnjT");let g=(()=>{class e{constructor(e,t,r,a,o,n,s){this.http=e,this.formBaeMapService=t,this.baeOswiadczenieOPosiadaniuAdresuService=r,this.baeZgloszenieDanychService=a,this.baeOswiadczenieORezygnacjiService=o,this.baeZgloszeniePosiadanegoAdresuService=n,this.baeAktualizacjaDanychAdministratoraService=s,this.selectedBaeStatement$=new i.a(null)}prepareBaeForm(e){switch(e){case o.a.ZGLOSZENIE_DANYCH_DO_UTWORZENIA:return this.zgloszenieDanychDoUtworzenia();case o.a.ZGLOSZENIE_POSIADANEGO_ADRESU:return this.zgloszeniePosiadanegoAdresu();case o.a.AKTUALIZACJA_DANYCH_ADMINISTRATORA:return this.aktualizacjaDanychAdministratora();case o.a.OSWIADCZENIE_O_POSIADANIU_ADRESU:return this.oswiadczenieOPosiadaniuAdresu();case o.a.OSWIADCZENIE_O_REZYGNACJI:return this.oswiadczenieORezygnacji();default:return null}}zgloszenieDanychDoUtworzenia(){try{return this.baeZgloszenieDanychService.getForm()}catch(e){console.log(e)}}zgloszeniePosiadanegoAdresu(){try{return this.baeZgloszeniePosiadanegoAdresuService.getForm()}catch(e){console.log(e)}}aktualizacjaDanychAdministratora(){try{return this.baeAktualizacjaDanychAdministratoraService.getForm(this.baeDraftFormResponse.numerKRS)}catch(e){console.log(e)}}oswiadczenieOPosiadaniuAdresu(){try{return this.baeOswiadczenieOPosiadaniuAdresuService.getForm(this.baeDraftFormResponse.numerKRS)}catch(e){console.log(e)}}oswiadczenieORezygnacji(){try{return this.baeOswiadczenieORezygnacjiService.getForm(this.baeDraftFormResponse.numerKRS)}catch(e){console.log(e)}}sendDraft(e,t){const r=this.formBaeMapService.mapForm(t,this.selectedBaeStatement$.value);return this.http.post(`${n.a.ekrsApiUrl}/api/oswiadczeniebae/draft/${e}`,{typ:this.selectedBaeStatement$.value,tresc:JSON.stringify(r)})}getDraftById(e){var t;return Object(a.a)(this,void 0,void 0,(function*(){return e?(this.baeDraftFormResponse=yield this.http.get(`${n.a.ekrsApiUrl}/api/oswiadczeniebae/draft/${e}`).toPromise(),this.selectedBaeStatement$.next(null===(t=this.baeDraftFormResponse)||void 0===t?void 0:t.typ),this.formBaeMapService.mapResponseToJsonValue(this.baeDraftFormResponse)):null}))}previewForm(e){try{const t=this.formBaeMapService.mapForm(e,this.selectedBaeStatement$.value);return this.http.post(n.a.ekrsApiUrl+"/api/oswiadczeniebae/preview",{type:this.selectedBaeStatement$.value,jsonContent:JSON.stringify(t)},{responseType:"text"})}catch(t){console.log(t)}}view(e){try{return this.http.post(`${n.a.ekrsApiUrl}/api/oswiadczeniebae/view/${e}`,null,{responseType:"text"})}catch(t){console.log(t)}}verifyForm(e){try{return e?this.http.get(`${n.a.ekrsApiUrl}/api/oswiadczeniebae/verify/${e}`):Object(s.a)({valid:null})}catch(t){console.log(t)}}}return e.\u0275fac=function(t){return new(t||e)(l.Xb(c.b),l.Xb(d.a),l.Xb(w),l.Xb(A.a),l.Xb(h),l.Xb(E.a),l.Xb(m.a))},e.\u0275prov=l.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},zFCD:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var a=r("nIj0"),o=r("EM62"),i=r("Wofr");let n=(()=>{class e{constructor(e,t){this.builder=e,this.formValidatorsService=t}getForm(){try{return this.builder.group({nazwa:this.builder.control("ZG\u0141OSZENIE DANYCH DO UTWORZENIA ADRESU DO DOR\u0118CZE\u0143 ELEKTRONICZNYCH"),symbol:this.builder.control("KRS-ZGL-N-ADE"),wersja:this.builder.control("1.0"),schemaLocation:this.builder.control("http://ekrs.ms.gov.pl/dokumenty/ zgloszenieNowyADE.xsd"),AdresDoKorespondencji:this.builder.group({type:this.builder.control("dk:AdresDoKorespondencjiZagranicznyBAE"),Kraj:["",[a.w.required,a.w.maxLength(64)]],Wojewodztwo:[""],Powiat:[""],Gmina:[""],Miejscowosc:["",[a.w.required,a.w.maxLength(64)]],Ulica:["",[a.w.maxLength(64)]],NumerDomu:["",[a.w.maxLength(10)]],NumerLokalu:["",[a.w.maxLength(10)]],KodPocztowy:[""],Poczta:["",[a.w.maxLength(50)]]},{validators:[e=>{"POLSKA"===e.value.Kraj?(e.get("Wojewodztwo").setValidators([a.w.required,a.w.maxLength(50)]),e.get("Powiat").setValidators([a.w.required,a.w.maxLength(64)]),e.get("Gmina").setValidators([a.w.required,a.w.maxLength(64)]),e.get("KodPocztowy").setValidators([a.w.required,a.w.maxLength(10),this.formValidatorsService.getKodPocztowyValidator()])):(e.get("Wojewodztwo").setValidators([a.w.maxLength(50)]),e.get("Powiat").setValidators([a.w.maxLength(64)]),e.get("Gmina").setValidators([a.w.maxLength(64)]),e.get("KodPocztowy").setValidators([a.w.required,a.w.maxLength(10)]))}]}),AdministratorADE:this.builder.group({Imie:this.builder.control(null,[a.w.required,a.w.maxLength(50)]),Nazwisko:this.builder.control(null,[a.w.required,a.w.maxLength(100)]),PESEL:this.builder.control(null,[a.w.required]),AdresEMail:this.builder.control(null,[a.w.required,a.w.maxLength(254),this.formValidatorsService.getAdresEmailValidator()]),IdentyfikatorEU:this.builder.control({value:null,disabled:!0},[a.w.required,a.w.maxLength(64)]),OswiadczenieBrakPESEL:[!1]},{validators:[this.formValidatorsService.getOptionalFieldValidator("PESEL","OswiadczenieBrakPESEL","inconsistentPeselDeclaration")]}),Oswiadczenia:this.builder.group({CzyPodmiotPubliczny:this.builder.control(null,[a.w.required]),CzyRezygnacjaZAktualnegoADE:this.builder.control(null)})})}catch(e){return console.log(e),null}}}return e.\u0275fac=function(t){return new(t||e)(o.Xb(a.c),o.Xb(i.a))},e.\u0275prov=o.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);