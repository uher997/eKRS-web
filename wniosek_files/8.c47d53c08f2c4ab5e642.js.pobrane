(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"29mQ":function(e,t,o){"use strict";o.d(t,"a",(function(){return i})),o("K86B");var n=o("EM62");let i=(()=>{class e{}return e.\u0275mod=n.Lb({type:e}),e.\u0275inj=n.Kb({factory:function(t){return new(t||e)}}),e})()},"8APA":function(e,t,o){"use strict";o.d(t,"a",(function(){return m}));var n=o("2kYt"),i=o("nIj0"),a=o("Jzyt"),r=o("TUxC"),s=(o("aMpM"),o("Tgah"),o("xoXu"),o("eh+P"),o("jSKm"),o("ocpT"),o("Mboa")),c=o("A+qS"),l=(o("uA0j"),o("EM62"));o("8j5Y"),o("UvZd"),o("+GeB"),o("sEIs"),o("C05f"),o("WeXi"),o("DEY+"),o("jkDS"),o("n4uN"),o("AIZc"),o("nM9a");var d=o("ByQ7"),u=o("x9wd");let p=(()=>{class e{}return e.\u0275mod=l.Lb({type:e}),e.\u0275inj=l.Kb({factory:function(t){return new(t||e)},imports:[[n.c,r.M]]}),e})(),m=(()=>{class e{}return e.\u0275mod=l.Lb({type:e}),e.\u0275inj=l.Kb({factory:function(t){return new(t||e)},providers:[n.e],imports:[[n.c,i.u,i.j,s.a,a.d,r.z,r.wb,r.q,c.b,r.u,r.k,d.a,u.CrewanModule,r.lb,r.fb,r.M,r.T,p]]}),e})()},BFND:function(e,t,o){"use strict";o.d(t,"a",(function(){return a}));var n=o("EM62"),i=o("TUxC");let a=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Hb({type:e,selectors:[["sirsim-loader-page"]],decls:2,vars:0,consts:[[1,"overlay"]],template:function(e,t){1&e&&(n.Tb(0,"div",0),n.Ob(1,"ds-loader"),n.Sb())},directives:[i.L],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%;top:0;left:0;right:0;bottom:0;background-color:hsla(0,0%,100%,.5);display:flex;justify-content:center;align-items:center;z-index:1002}"]}),e})()},IC1n:function(e,t,o){var n=o("fjNU"),i=o("X/SR");e.exports=function(e,t,o){var a=t&&o||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var r=(e=e||{}).random||(e.rng||n)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t)for(var s=0;s<16;++s)t[a+s]=r[s];return t||i(r)}},K86B:function(e,t,o){"use strict";o.d(t,"a",(function(){return i}));var n=o("EM62");let i=(()=>{class e{transform(e,t){if(!e)return!1;if(Array.isArray(t)){for(const o of t)if(this.nazwijTo(e,o))return!0;return!1}return this.nazwijTo(e,t)}nazwijTo(e,t){const o=t.split(".");let n=e.getRawValue();for(const i of o){if(!n.hasOwnProperty(i))return!1;n=n[i]}return!0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=n.Mb({name:"contains",type:e,pure:!0}),e})()},Tgah:function(e,t,o){"use strict";o.d(t,"a",(function(){return T}));var n=o("r4Sb"),i=o("MWQY"),a=o("kuMc"),r=o("fN3Q"),s=o("EM62"),c=o("oetf"),l=o("ARIb"),d=o("TUxC"),u=o("2kYt"),p=o("eGWA"),m=o("eh+P"),b=o("Jzyt");function g(e,t){if(1&e){const e=s.Ub();s.Tb(0,"sirsim-table-action",15),s.ac("clicked",(function(){s.zc(e);const t=s.cc(2).$implicit;return s.cc().edit(t,!1)})),s.Sb()}}function f(e,t){if(1&e){const e=s.Ub();s.Tb(0,"sirsim-table-action",16),s.ac("clicked",(function(){s.zc(e);const t=s.cc(2).$implicit;return s.cc().delete(t)})),s.Sb()}}function h(e,t){if(1&e){const e=s.Ub();s.Tb(0,"div"),s.Hc(1,g,1,0,"sirsim-table-action",12),s.Tb(2,"sirsim-table-action",13),s.ac("clicked",(function(){s.zc(e);const t=s.cc().$implicit;return s.cc().download(t)})),s.Sb(),s.Hc(3,f,1,0,"sirsim-table-action",14),s.Sb()}if(2&e){const e=s.cc(2);s.Ab(1),s.jc("ngIf",!1===e.readonly),s.Ab(2),s.jc("ngIf",!1===e.readonly)}}const w=function(){return{width:"100%"}};function k(e,t){if(1&e){const e=s.Ub();s.Tb(0,"ds-button",18),s.ac("onClick",(function(){s.zc(e);const t=s.cc(2).$implicit;return s.cc().edit(t,!0)})),s.Sb()}2&e&&s.Ec(s.nc(2,w))}function z(e,t){if(1&e&&s.Hc(0,k,1,3,"ds-button",17),2&e){const e=s.cc(2);s.jc("ngIf",!1===e.readonly)}}function y(e,t){if(1&e&&(s.Tb(0,"div",9),s.Hc(1,h,4,2,"div",10),s.Hc(2,z,1,1,"ng-template",null,11,s.Ic),s.Sb()),2&e){const e=t.$implicit,o=s.xc(3),n=s.cc();s.Ab(1),s.jc("ngIf",n.isValid(e))("ngIfElse",o)}}function v(e,t){if(1&e&&(s.Tb(0,"div",19),s.Jc(1),s.Sb()),2&e){const e=t.$implicit;s.Ab(1),s.Lc(" ",e.nazwaDokumentu," ")}}function j(e,t){if(1&e&&s.Jc(0),2&e){const e=t.$implicit,o=s.cc();s.Lc(" ",o.stringifyAttachements(e),"\n")}}function O(e,t){if(1&e){const e=s.Ub();s.Tb(0,"form-ekrs-rej-psa-attachments-new",20),s.ac("hide",(function(){return s.zc(e),s.cc().modal.show=!1}))("submitForm",(function(t){return s.zc(e),s.cc().addAttachment(t)})),s.Sb()}if(2&e){const e=s.cc();s.jc("readonly",e.modal.readonly)("formularzId",e.formularzId)("data",e.modal.data)("blockTypeChange",e.blockType)}}function C(e,t){if(1&e&&(s.Rb(0),s.Tb(1,"div",26),s.Tb(2,"div",27),s.Jc(3,"J\u0119zyk dokumentu"),s.Sb(),s.Tb(4,"div",28),s.Jc(5),s.Sb(),s.Sb(),s.Tb(6,"div",26),s.Tb(7,"div",27),s.Jc(8,"Za\u0142\u0105cznik"),s.Sb(),s.Tb(9,"div",28),s.Jc(10),s.Sb(),s.Sb(),s.Qb()),2&e){const e=s.cc().$implicit;s.Ab(5),s.Lc(" ",null!=e.rowData&&e.rowData.jezyk?e.rowData.jezyk:"-",""),s.Ab(5),s.Lc(" ",null!=e.rowData&&null!=e.rowData.plik&&null!=e.rowData.plik.plik&&e.rowData.plik.plik.name?e.rowData.plik.plik.name:"-","")}}function S(e,t){if(1&e&&(s.Tb(0,"div",26),s.Tb(1,"div",27),s.Jc(2,"Nr CREWAN"),s.Sb(),s.Tb(3,"div",28),s.Jc(4),s.Sb(),s.Sb()),2&e){const e=s.cc().$implicit;s.Ab(4),s.Lc(" ",e.rowData.crewan,"")}}function P(e,t){if(1&e&&(s.Tb(0,"tr"),s.Tb(1,"td",21),s.Tb(2,"div",22),s.Tb(3,"div",23),s.Hc(4,C,11,2,"ng-container",24),s.Hc(5,S,5,1,"div",25),s.Sb(),s.Sb(),s.Sb(),s.Sb()),2&e){const e=t.$implicit;s.Ab(1),s.Bb("colspan",null==e?null:e.colSpan),s.Ab(3),s.jc("ngIf",!e.rowData.crewan),s.Ab(1),s.jc("ngIf",e.rowData.crewan)}}const M=function(e,t,o){return{actions:e,nazwaDokumentu:t,odpisy:o}},x=["*"];let T=(()=>{class e extends i.a{constructor(e,t){super(),this.ftService=e,this.fileService=t,this.readonly=!1,this.modal={show:!1,data:null,readonly:!0,dataIndex:-1},this.blockType=!1,this.handleTableAction=this.ftService.handleTableAction,this.openDialogDel=!1}ngOnInit(){this.form.valueChanges.pipe(Object(a.a)(this.destroy$)).subscribe(e=>{this.updateModel(!1)}),this.updateModel(!0),this.initTable()}initTable(){this.tableController={key:"",columns:[{field:"nazwaDokumentu",header:"Rodzaj dokumentu",dataType:"string",width:"45%"},{field:"crewan",header:"Nr CREWAN",dataType:"string"},{field:"nazaPliku",header:"Nazwa pliku",dataType:"string"},{field:"data",header:"Data sporz\u0105dzenia",dataType:"string"},{field:"rozmiarPliku",header:"Rozmiar pliku",dataType:"string"},{field:"actions",header:"Dzia\u0142ania",dataType:"string",cssClass:"button-action-header",width:this.readonly?"100px":"155px"}],tableActions:this.readonly?[]:[{action:"add",severity:"border",label:"psa.zalaczniki.dodaj"}],placeholder:"-",paginator:{rowsPerPageOptions:[10,50,500],rows:10},rowExpansion:{dataKey:"uuid"}}}add(){this.modal.readonly=!1,this.modal.show=!0,this.modal.data=null,this.modal.dataIndex=-1,this.blockType=!1}edit(e,t=!1){var o;this.modal.readonly=!1,this.modal.show=!0,this.modal.dataIndex=this.getIndex(e),this.modal.data=JSON.parse(JSON.stringify(e)),this.modal.data.nazwaDokumentu&&(this.modal.data.nazwaDokumentu=this.modal.data.nazwaDokumentu.toUpperCaseKRS()),this.modal.data.plik&&(this.modal.data.plik.file=e.plik.file,null===(o=this.modal.data.odpisy)||void 0===o||o.forEach((t,o)=>t.file=e.odpisy[o].file)),this.blockType=!t}delete(e){this.openDialogDel=!0,this.modal.data=e}deleteAttachement(e){if(this.openDialogDel=!1,e){const e=this.form.value.findIndex(e=>e===this.modal.data);this.modal.data.typ!==n.a.DODATKOWY?this.ftService.update(this.form,{nazwaDokumentu:this.modal.data.nazwaDokumentu,jezyk:this.modal.data.jezyk},e):this.ftService.removeAt(this.form,e)}}download(e){this.modal.readonly=!0,this.modal.show=!0,this.modal.data=e,this.blockType=!0}addAttachment(e){var t,o,n,i,a;if(null==e?void 0:e.value){const s=e.value;s.uuid||(s.uuid=Object(r.v4)());const c=s.crewan;c&&c.length>0&&(s.crewan=s.crewanPrefix+c.trim()),-1!==this.modal.dataIndex&&s.plik&&!(null===(t=s.plik.file)||void 0===t?void 0:t.name)&&(s.plik.file=this.form.value[this.modal.dataIndex].plik.file),(null===(n=null===(o=s.plik)||void 0===o?void 0:o.file)||void 0===n?void 0:n.name)&&(s.plik.plik=this.fileService.getAttachementFormFile(s.plik.file)),s.nazaPliku=null===(a=null===(i=s.plik)||void 0===i?void 0:i.plik)||void 0===a?void 0:a.name,this.ftService.update(this.form,s,this.modal.dataIndex)}this.modal.show=!1}isDate(e){return e instanceof Date}isValid(e){const t=this.form.value[this.getIndex(e)];return!!(null==t?void 0:t.crewan)||(null==t?void 0:t.data)}stringifyAttachements(e){var t;const{plik:o,odpisy:n}=e;return[null===(t=null==o?void 0:o.plik)||void 0===t?void 0:t.name,...(n||[]).filter(e=>{var t;return null===(t=e.plik)||void 0===t?void 0:t.name}).map(e=>e.plik.name)].join(", ")}getIndex(e){return this.form.value.findIndex(t=>t===e)}updateModel(e){const t=[...this.form.value];e&&(t.filter(e=>{var t,o;return!e.nazaPliku&&(null===(o=null===(t=e.plik)||void 0===t?void 0:t.plik)||void 0===o?void 0:o.name)}).forEach(e=>e.nazaPliku=e.plik.plik.name),t.filter(e=>!e.uuid).forEach(e=>e.uuid=Object(r.v4)()),t.filter(e=>0===e.rozmiarPliku).forEach(e=>e.rozmiarPliku=null)),this.model=t}}return e.\u0275fac=function(t){return new(t||e)(s.Nb(c.a),s.Nb(l.a))},e.\u0275cmp=s.Hb({type:e,selectors:[["form-ekrs-rej-psa-attachments-table"]],inputs:{form:"form",readonly:"readonly",formularzId:"formularzId"},features:[s.xb],ngContentSelectors:x,decls:16,vars:16,consts:[[1,"legend","p-mb-3"],[1,"fieldset"],[3,"sterownik","model","rozwijak","columnTemplates","tableAction"],["actionsTmpl",""],["nameTmpl",""],["odpisyTmpl",""],[3,"readonly","formularzId","data","blockTypeChange","hide","submitForm",4,"ngIf"],["icon","pi-times","width","350px",3,"header","message","openDialog","closed","openDialogChange"],["rowExpansionTmp",""],[1,"row-button-actions"],[4,"ngIf","ngIfElse"],["addTmpl",""],["icon","pi-pencil","tooltip","edytuj",3,"clicked",4,"ngIf"],["icon","pi-info-circle","tooltip","Szczeg\xf3\u0142y",3,"clicked"],["icon","pi-times","tooltip","usun",3,"clicked",4,"ngIf"],["icon","pi-pencil","tooltip","edytuj",3,"clicked"],["icon","pi-times","tooltip","usun",3,"clicked"],["label","dodaj","severity","border",3,"style","onClick",4,"ngIf"],["label","dodaj","severity","border",3,"onClick"],[2,"white-space","normal"],[3,"readonly","formularzId","data","blockTypeChange","hide","submitForm"],[1,"td"],[1,"wrapper-out"],[1,"wrapper-in"],[4,"ngIf"],["class","row",4,"ngIf"],[1,"row"],[1,"header"],[1,"content"]],template:function(e,t){if(1&e&&(s.ic(),s.Tb(0,"div",0),s.hc(1),s.Sb(),s.Tb(2,"fieldset",1),s.Tb(3,"ds-table",2),s.ac("tableAction",(function(e){return t.handleTableAction(e)})),s.Sb(),s.Sb(),s.Hc(4,y,4,2,"ng-template",null,3,s.Ic),s.Hc(6,v,2,1,"ng-template",null,4,s.Ic),s.Hc(8,j,1,1,"ng-template",null,5,s.Ic),s.Hc(10,O,1,4,"form-ekrs-rej-psa-attachments-new",6),s.Tb(11,"ds-confirm-dialog",7),s.ac("closed",(function(e){return t.deleteAttachement(e)}))("openDialogChange",(function(e){return t.openDialogDel=e})),s.dc(12,"transloco"),s.dc(13,"transloco"),s.Sb(),s.Hc(14,P,6,3,"ng-template",null,8,s.Ic)),2&e){const e=s.xc(5),o=s.xc(7),n=s.xc(9),i=s.xc(15);s.Ab(3),s.jc("sterownik",t.tableController)("model",t.model)("rozwijak",i)("columnTemplates",s.qc(12,M,e,o,n)),s.Ab(7),s.jc("ngIf",t.modal.show),s.Ab(1),s.kc("header",s.ec(12,8,"dialogPotwierdzenia.usuniecieNaglowek")),s.kc("message",s.ec(13,10,"dialogPotwierdzenia.usuniecieWiadomosc")),s.jc("openDialog",t.openDialogDel)}},directives:[d.vb,u.o,d.t,p.a,d.n,m.a],pipes:[b.e],styles:["@media screen and (max-width:1300px){ds-table[_ngcontent-%COMP%]  p-table  th{display:none}ds-table[_ngcontent-%COMP%]  p-table  td{border:0;clear:left;display:block;float:left;text-align:left;width:100%}}.td[_ngcontent-%COMP%]{padding:0!important}.wrapper-out[_ngcontent-%COMP%]{background:#f5faff;border:1px solid #b5e5fc;border-radius:.125rem;margin:.5rem 0;padding:1rem}.wrapper-in[_ngcontent-%COMP%]{background:#fff;border:1px solid #0052a5;box-sizing:border-box;border-radius:.125rem;padding:1rem}.wrapper-in[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;align-items:center;border-top:1px solid #f0f0f0}.wrapper-in[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:last-of-type{border-bottom:1px solid #f0f0f0}.wrapper-in[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-style:normal;font-weight:600;font-size:.8125rem;line-height:1rem;letter-spacing:.1px;color:#0d0d0d;background:#f5f5f5;padding:.5rem 1rem;min-width:170px}.wrapper-in[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding-left:1rem}",".container[_ngcontent-%COMP%]{display:flex}.fieldset[_ngcontent-%COMP%]{border:none;padding:0;margin:0}.fieldset[_ngcontent-%COMP%] > .ds-panel--margin[_ngcontent-%COMP%]:first-child{margin-top:0}.card[_ngcontent-%COMP%]{background-color:#fff;padding:16px;border:1px solid #e0e0e0;border-radius:2px}.p-grid[_ngcontent-%COMP%]   ds-checkbox[_ngcontent-%COMP%]     p-checkbox{margin-top:1.85rem}label[_ngcontent-%COMP%]{color:#606060;display:block;font-size:14px;padding:0}ds-table[_ngcontent-%COMP%]    >div>p-table   tr.table-row td.row-button-actions ds-button.p-mr-2:last-child{margin-right:0!important}ds-table[_ngcontent-%COMP%]    >div>p-table   th{word-break:break-word}ds-table[_ngcontent-%COMP%]    >div>p-table   .ekrs-shrink-padding{padding:.75rem .25rem}ds-inputmask[_ngcontent-%COMP%]     .p-inputtext{height:33.61px!important}ds-autocomplete[_ngcontent-%COMP%]    >div>p-autocomplete  >span>input::-moz-placeholder{text-transform:none}ds-autocomplete[_ngcontent-%COMP%]    >div>p-autocomplete  >span>input::placeholder{text-transform:none}sirsim-overlay[_ngcontent-%COMP%]   ds-table[_ngcontent-%COMP%]     .p-datatable  {padding:20px 0}ds-table[_ngcontent-%COMP%]     .custom-table-footer{padding:0 1rem;margin-bottom:1rem}"]}),e})()},WeXi:function(e,t,o){"use strict";o.d(t,"a",(function(){return c}));var n=o("nIj0"),i=o("AGU8"),a=o("PyXe"),r=o("EM62"),s=o("R9BS");let c=(()=>{class e{constructor(e,t){this.builder=e,this.formGroupService=t}getKrsCzOppForm(){return this.builder.group({rodzajWnioskujacego:[{value:"",disabled:!0},n.w.required],wnioskujacyOsobaFizyczna:this.formGroupService.getWnioskujacyOsobaFizycznaGroup(),wnioskujacyOsobaPrawna:this.formGroupService.getWnioskujacyOsobaPrawnaGroup(),krs:["",n.w.required],odroczenie:this.formGroupService.getOdroczenieGroup()})}getKrsCwyForm(){return this.builder.group({rodzajWnioskujacego:[{value:"",disabled:!0},n.w.required],wnioskujacyOsobaFizyczna:this.formGroupService.getWnioskujacyOsobaFizycznaGroup(),wnioskujacyOsobaPrawna:this.formGroupService.getWnioskujacyOsobaPrawnaGroup(),rodzajRejestru:["",n.w.required],wybraneNumeryDzialow:this.builder.array([[""],[""],[""],[""],[""],[""]],{validators:[Object(a.a)(n.w.requiredTrue)]}),krs:[""],odroczenie:this.formGroupService.getOdroczenieGroup()})}getKrsCznForm(){return this.builder.group({rodzajWnioskujacego:[{value:"",disabled:!0},n.w.required],wnioskujacyOsobaFizyczna:this.formGroupService.getWnioskujacyOsobaFizycznaGroup(),wnioskujacyOsobaPrawna:this.formGroupService.getWnioskujacyOsobaPrawnaGroup(),podmiot:this.formGroupService.getPodmiotGroup(!0,!1),rodzajRejestru:this.formGroupService.getRodzajOdpisu(),nip:[""],regon:[""],typIdentyfikatora:[""],siedzibaFirmy:this.formGroupService.getSiedzibaFirmy(),formaPodmiotu:[""],nazwaFirma:[""],odroczenie:this.formGroupService.getOdroczenieGroup()})}getKrsCodForm(){return this.builder.group({rodzajWnioskujacego:[{value:"",disabled:!0},n.w.required],wnioskujacyOsobaFizyczna:this.formGroupService.getWnioskujacyOsobaFizycznaGroup(),wnioskujacyOsobaPrawna:this.formGroupService.getWnioskujacyOsobaPrawnaGroup(),rodzajRejestru:["",n.w.required],krs:["",n.w.required],rodzajOdpisu:this.formGroupService.getRodzajOdpisu(),odroczenie:this.formGroupService.getOdroczenieGroup()})}getKrsCztForm(){return this.builder.group({rodzajWnioskujacego:[{value:"",disabled:!0},n.w.required],wnioskujacyOsobaFizyczna:this.formGroupService.getWnioskujacyOsobaFizycznaGroup(),wnioskujacyOsobaPrawna:this.formGroupService.getWnioskujacyOsobaPrawnaGroup(),rodzajRejestru:this.formGroupService.getRodzajOdpisu(),krs:["",n.w.required],odroczenie:this.formGroupService.getOdroczenieGroup()})}getKrsCzwForm(){return this.builder.group({rodzajWnioskujacego:[{value:"",disabled:!0},n.w.required],wnioskujacyOsobaFizyczna:this.formGroupService.getWnioskujacyOsobaFizycznaGroup(),wnioskujacyOsobaPrawna:this.formGroupService.getWnioskujacyOsobaPrawnaGroup(),rodzajRejestru:this.formGroupService.getRodzajOdpisu(),krs:["",n.w.required],odroczenie:this.formGroupService.getOdroczenieGroup()})}getKrsCnrForm(){return this.builder.group({rodzajWnioskujacego:[{value:"",disabled:!0},n.w.required],wnioskujacyOsobaFizyczna:this.formGroupService.getWnioskujacyOsobaFizycznaGroup(),wnioskujacyOsobaPrawna:this.formGroupService.getWnioskujacyOsobaPrawnaGroup(),podmiot:this.formGroupService.getPodmiotGroup(!0,!1),regon:[""],nip:[""],nazwaFirma:[""],siedzibaFirmy:this.formGroupService.getSiedzibaFirmy(),formaPodmiotu:[""],rodzajWyszukania:["",n.w.required],odroczenie:this.formGroupService.getOdroczenieGroup()})}getKrsCdtForm(){return this.builder.group({rodzajWnioskujacego:[{value:"",disabled:!0},n.w.required],wnioskujacyOsobaFizyczna:this.formGroupService.getWnioskujacyOsobaFizycznaGroup(),wnioskujacyOsobaPrawna:this.formGroupService.getWnioskujacyOsobaPrawnaGroup(),podmiot:this.formGroupService.getPodmiotGroup(!1),odroczenie:this.formGroupService.getOdroczenieGroup()})}getKrsCdnForm(){return this.builder.group({rodzajWnioskujacego:[{value:"",disabled:!0},n.w.required],wnioskujacyOsobaFizyczna:this.formGroupService.getWnioskujacyOsobaFizycznaGroup(),wnioskujacyOsobaPrawna:this.formGroupService.getWnioskujacyOsobaPrawnaGroup(),podmiot:this.formGroupService.getPodmiotGroup(),zwolnienieZOplaty:[!1],uzasadnienieZwolnienia:[""],regon:[""],nip:[""],nazwaFirma:[""],siedzibaFirmy:this.formGroupService.getSiedzibaFirmy(),formaPodmiotu:[""],odroczenie:this.formGroupService.getOdroczenieGroup()})}getKrsCdoForm(){return this.builder.group({rodzajWnioskujacego:[{value:"",disabled:!0},n.w.required],wnioskujacyOsobaFizyczna:this.formGroupService.getWnioskujacyOsobaFizycznaGroup(),wnioskujacyOsobaPrawna:this.formGroupService.getWnioskujacyOsobaPrawnaGroup(),numerRDN:["",n.w.required],rodzajOdpisu:this.formGroupService.getRodzajOdpisu(),odroczenie:this.formGroupService.getOdroczenieGroup()})}getKrsEkdsForm(){return this.builder.group({rodzajWnioskujacego:[{value:"",disabled:!0},n.w.required],wnioskujacyOsobaFizyczna:this.formGroupService.getWnioskujacyOsobaFizycznaGroup(),wnioskujacyOsobaPrawna:this.formGroupService.getWnioskujacyOsobaPrawnaGroup(),applicantEmail:this.formGroupService.getApplicantEmailGroup(),person:this.formGroupService.getCompanyKrsGroup(),document:this.formGroupService.getDocumentGruop(),odroczenie:this.formGroupService.getOdroczenieGroup()})}getRzDw1Form(){return this.builder.group({rodzajWnioskujacego:[{value:"",disabled:!0},n.w.required],wnioskujacyOsobaFizyczna:this.formGroupService.getWnioskujacyOsobaFizycznaGroup(),wnioskujacyOsobaPrawna:this.formGroupService.getWnioskujacyOsobaPrawnaGroup(),podmiot:this.formGroupService.getPodmiotGroup(),wnioskodawca:this.formGroupService.getWnioskodawcaGroup(),odroczenie:this.formGroupService.getOdroczenieGroup()})}getRzDw2Form(){return this.builder.group({rodzajWnioskujacego:[{value:"",disabled:!0},n.w.required],wnioskujacyOsobaFizyczna:this.formGroupService.getWnioskujacyOsobaFizycznaGroup(),wnioskujacyOsobaPrawna:this.formGroupService.getWnioskujacyOsobaPrawnaGroup(),podmiot:this.formGroupService.getPodmiotGroup(),item:this.formGroupService.getItemGroup(),odroczenie:this.formGroupService.getOdroczenieGroup()})}getRzDw3Form(){return this.builder.group({rodzajWnioskujacego:[{value:"",disabled:!0},n.w.required],wnioskujacyOsobaFizyczna:this.formGroupService.getWnioskujacyOsobaFizycznaGroup(),wnioskujacyOsobaPrawna:this.formGroupService.getWnioskujacyOsobaPrawnaGroup(),sygnaturaAkt:[{value:"",disabled:!0},n.w.required],wnioskodawca:this.formGroupService.getWnioskodawcaGroup(),sad:["",n.w.required],wydzial:["",n.w.required],numerSprawy:["",n.w.required],rok:["",n.w.required],liczbaKontrolna:["",n.w.required],value:[""],odroczenie:this.formGroupService.getOdroczenieGroup()})}getRzDw4Form(){return this.builder.group({rodzajWnioskujacego:[{value:"",disabled:!0},n.w.required],wnioskujacyOsobaFizyczna:this.formGroupService.getWnioskujacyOsobaFizycznaGroup(),wnioskujacyOsobaPrawna:this.formGroupService.getWnioskujacyOsobaPrawnaGroup(),pozycjaRejestru:["",n.w.required],rodzajOdpisu:this.builder.array([[!1],[!1],[!1]],{validators:[Object(a.a)(n.w.requiredTrue)]}),odroczenie:this.formGroupService.getOdroczenieGroup()})}getEkwCopyForm(){return this.builder.group({rodzajWnioskujacego:[{value:"",disabled:!0},n.w.required],wnioskujacyOsobaFizyczna:this.formGroupService.getWnioskujacyOsobaFizycznaGroup(),wnioskujacyOsobaPrawna:this.formGroupService.getWnioskujacyOsobaPrawnaGroup(),rodzajDokumentu:["",n.w.required],rodzajOdpisu:this.builder.array([[!1],[!1]],{validators:[Object(a.a)(n.w.requiredTrue)]}),dzial:this.builder.array([[!1],[!1],[!1],[!1]],{validators:[Object(a.a)(n.w.requiredTrue)]}),kodWydzialu:["",n.w.required],wlasciwyNumer:["",n.w.required],cyfraKontrolna:["",n.w.required],value:[{value:"",disabled:!0}],wyciag:this.builder.array([[""],[""],[""],[""]]),odroczenie:this.formGroupService.getOdroczenieGroup()})}getEkwWyszukanieForm(){return this.builder.group({rodzajWnioskujacego:[{value:"",disabled:!0},n.w.required],wnioskujacyOsobaFizyczna:this.formGroupService.getWnioskujacyOsobaFizycznaGroup(),wnioskujacyOsobaPrawna:this.formGroupService.getWnioskujacyOsobaPrawnaGroup(),podstawaPrawnaZapytania:["",n.w.required],rodzajZapytania:["",n.w.required],daneWlasciciela:this.builder.group({typPodmiotu:[""],osobaFizyczna:this.builder.group({pesel:[""],imie1:[""],imie2:[""],nazwisko1:[""],nazwisko2:[""],imieOjca:[""],imieMatki:[""],nieZnamPesel:[""],nieZnamImieniaOjcaLubMatki:[""]}),osobaPrawna:this.builder.group({osobaPrawna:this.builder.group({regon:[""],nazwaFirma:[""]}),siedzibaFirmy:this.builder.group({miejscowosc:[""]})}),kodWydzialu:[""]}),daneNieruchomosci:this.builder.group({kryteriumWyszukiwania:[""],wojewodztwo:["",n.w.required],powiat:["",n.w.required],gmina:["",n.w.required],miejscowosc:["",n.w.required],dzielnica:[""],ulica:[""],numerDomu:[""],numerLokalu:[""],numerObrebu:[""],nazwaObrebu:[""],identyfikatorDzialki:[""],numerDzialki:[""]}),kodWydzialu:[""],odroczenie:this.formGroupService.getOdroczenieGroup(),zalacznik:this.formGroupService.getZalacznikGroup(!1)})}getEkwSearchByRoleForm(){return this.builder.group({rodzajWnioskujacego:[{value:"",disabled:!0},n.w.required],wnioskujacyOsobaFizyczna:this.formGroupService.getWnioskujacyOsobaFizycznaGroup(),wnioskujacyOsobaPrawna:this.formGroupService.getWnioskujacyOsobaPrawnaGroup(),podstawaPrawnaZapytania:["",n.w.required],typPodmiotu:["",n.w.required],pesel:[""],krs:[""],regon:[""],odroczenie:this.formGroupService.getOdroczenieGroup(),zalacznik:this.formGroupService.getZalacznikGroup(!1)})}isPerson(e){return e.getRawValue().rodzajWnioskujacego===i.a.OSOBA_FIZYCZNA}isDestPerson(e){return e.getRawValue().podmiot.typPodmiotu===i.a.OSOBA_FIZYCZNA}isDestSubject(e){return e.getRawValue().podmiot.typPodmiotu===i.a.OSOBA_PRAWNA}getSeriaAkcjiGroup(e){const t=this.builder.group({NazwaSerii:[null,[n.w.required,n.w.maxLength(100)]],LiczbaAkcji:[null,[n.w.required,n.w.pattern(/^\d{1,10}$/)]],CzyAkcjeUprzywilejowane:[null,[n.w.required,n.w.pattern(/^(TAK)|(NIE)$/)]],LiczbaAkcjiUprzywilejowanychIRodzaj:[""]});return e&&t.addControl("Status",new n.d(null)),t}validateZipCode(e){return/^\d{2}-\d{3}$/.test(e.value)?null:{invalidPostalCode:!0}}getCzlonekOrganuReprezentacjiGroup(e){const t=/((^\d{2}.\d{2}.\d{4}$)|^$)/,o=this.builder.group({DaneIdentyfikacyjne:this.formGroupService.getOsobaGroup(),Funkcja:[null,[n.w.required,n.w.maxLength(200)]],CzyZawieszony:this.builder.group({czyZawieszony:[!1,[]],DataZawieszenia:[null,[n.w.pattern(t)]],OswiadczenieZeBezterminowo:[null]},{validators:[e=>{const o=e.get("czyZawieszony"),i=e.get("DataZawieszenia");return 1==o.value?n.w.required(i)?(i.setErrors({required:!0}),null):t.test(i.value)?null:{incorrectDateFormat:!0}:null}]}),status:[]});return e&&o.removeControl("CzyZawieszony"),o}getDaneProkurentaFormGroup(){return this.builder.group({DaneIdentyfikacyjne:this.formGroupService.getOsobaFizycznaGroup(),RodzajProkury:[null,[n.w.required,n.w.maxLength(4e3)]]})}}return e.\u0275fac=function(t){return new(t||e)(r.Xb(n.c),r.Xb(s.a))},e.\u0275prov=r.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"X/SR":function(e,t){for(var o=[],n=0;n<256;++n)o[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0;return[o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]]].join("")}},X7tD:function(e,t,o){"use strict";o.d(t,"a",(function(){return d}));var n=o("RiSO"),i=o("EM62"),a=o("nIj0"),r=o("TUxC"),s=o("2kYt"),c=o("Jzyt");function l(e,t){if(1&e&&(i.Rb(0),i.Tb(1,"div",4),i.Tb(2,"div",5),i.Ob(3,"ds-textarea",6),i.dc(4,"transloco"),i.Sb(),i.Sb(),i.Tb(5,"div",4),i.Tb(6,"div",5),i.Ob(7,"ds-input",7),i.dc(8,"transloco"),i.Sb(),i.Tb(9,"div",5),i.Ob(10,"ds-input",8),i.dc(11,"transloco"),i.Sb(),i.Sb(),i.Qb()),2&e){const e=i.cc();i.Ab(3),i.jc("label",i.ec(4,15,"wczesniejszaRejestracjaSpolki.nazwaSadu"))("autoResize",!0)("showCounter",!0)("capitalize",!0)("errorMessage",null==e.form.get("NazwaOrganu").errors?null:e.form.get("NazwaOrganu").errors.errorMessage),i.Ab(4),i.jc("label",i.ec(8,17,"wczesniejszaRejestracjaSpolki.nazwaRejestru"))("showClear",!1)("showCounter",!0)("capitalize",!0)("errorMessage",null==e.form.get("NazwaRejestru").errors?null:e.form.get("NazwaRejestru").errors.errorMessage),i.Ab(3),i.jc("label",i.ec(11,19,"wczesniejszaRejestracjaSpolki.numerRejestru"))("showClear",!1)("showCounter",!0)("capitalize",!0)("errorMessage",null==e.form.get("NumerWRejestrzeAlboEwidencji").errors?null:e.form.get("NumerWRejestrzeAlboEwidencji").errors.errorMessage)}}let d=(()=>{class e{constructor(e){this.container=e}ngOnInit(){this.form=this.container.control.get("InformacjaOInnymRejestrze"),this.dodano=!this.form.get("dodano")||this.form.get("dodano").value,this.initWczesniejszaRejestracjaLabel()}initWczesniejszaRejestracjaLabel(){switch(this.wczesniejszaRejestracjaSpolkiDodanoLabel=n.a.jestPodmiotemZagranicznym(this.formaPrawna)?"wczesniejszaRejestracjaSpolki.dodanoRP":"wczesniejszaRejestracjaSpolki.dodano",this.formaPrawna){case n.a.OPZ:this.wczesniejszaRejestracjaLabel="wczesniejszaRejestracjaSpolki.tytul.opz";break;case n.a.GOZZR:case n.a.GOZZU:this.wczesniejszaRejestracjaLabel="wczesniejszaRejestracjaSpolki.tytul.oddzialu";break;case n.a.SDZ:this.wczesniejszaRejestracjaLabel="wczesniejszaRejestracjaSpolki.tytul.spoldzielni";break;case n.a.IB:case n.a.IGB:case n.a.PP:case n.a.SKOK:this.wczesniejszaRejestracjaLabel="wczesniejszaRejestracjaSpolki.tytul.podmiotu";break;default:this.wczesniejszaRejestracjaLabel="wczesniejszaRejestracjaSpolki.tytul.spolki"}}changeDodano(e){this.dodano=e,this.dodano||Object.keys(this.form.controls).forEach(e=>{"dodano"!==e&&this.form.get(e).reset()})}}return e.\u0275fac=function(t){return new(t||e)(i.Nb(a.a))},e.\u0275cmp=i.Hb({type:e,selectors:[["sirsim-wczesniejsza-rejestracja-spolki"]],inputs:{index:"index",formaPrawna:"formaPrawna"},decls:8,vars:11,consts:[["id","wczesniejszaRejestracja",1,"legend"],["role","group","aria-labelledby","wczesniejszaRejestracja",1,"fieldset",3,"formGroup"],["formControlName","dodano",3,"label","ngModelChange"],[4,"ngIf"],[1,"p-grid"],[1,"p-col"],["formControlName","NazwaOrganu","maxLength","1000",3,"label","autoResize","showCounter","capitalize","errorMessage"],["formControlName","NazwaRejestru","maxLength","254",3,"label","showClear","showCounter","capitalize","errorMessage"],["formControlName","NumerWRejestrzeAlboEwidencji","maxLength","50",3,"label","showClear","showCounter","capitalize","errorMessage"]],template:function(e,t){1&e&&(i.Tb(0,"legend",0),i.Jc(1),i.dc(2,"transloco"),i.Sb(),i.Tb(3,"fieldset",1),i.Tb(4,"div"),i.Tb(5,"ds-checkbox",2),i.ac("ngModelChange",(function(e){return t.changeDodano(e)})),i.dc(6,"transloco"),i.Sb(),i.Sb(),i.Hc(7,l,12,21,"ng-container",3),i.Sb()),2&e&&(i.Ab(1),i.Mc(" ",t.index," ",i.ec(2,7,t.wczesniejszaRejestracjaLabel),"\n"),i.Ab(2),i.jc("formGroup",t.form),i.Ab(1),i.Fb("p-mb-4",t.dodano),i.Ab(1),i.jc("label",i.ec(6,9,t.wczesniejszaRejestracjaSpolkiDodanoLabel)),i.Ab(2),i.jc("ngIf",t.dodano))},directives:[a.q,a.h,r.r,a.p,a.f,s.o,r.yb,r.y],pipes:[c.e],styles:["",".container[_ngcontent-%COMP%]{display:flex}.fieldset[_ngcontent-%COMP%]{border:none;padding:0;margin:0}.fieldset[_ngcontent-%COMP%] > .ds-panel--margin[_ngcontent-%COMP%]:first-child{margin-top:0}.card[_ngcontent-%COMP%]{background-color:#fff;padding:16px;border:1px solid #e0e0e0;border-radius:2px}.p-grid[_ngcontent-%COMP%]   ds-checkbox[_ngcontent-%COMP%]     p-checkbox{margin-top:1.85rem}label[_ngcontent-%COMP%]{color:#606060;display:block;font-size:14px;padding:0}ds-table[_ngcontent-%COMP%]    >div>p-table   tr.table-row td.row-button-actions ds-button.p-mr-2:last-child{margin-right:0!important}ds-table[_ngcontent-%COMP%]    >div>p-table   th{word-break:break-word}ds-table[_ngcontent-%COMP%]    >div>p-table   .ekrs-shrink-padding{padding:.75rem .25rem}ds-inputmask[_ngcontent-%COMP%]     .p-inputtext{height:33.61px!important}ds-autocomplete[_ngcontent-%COMP%]    >div>p-autocomplete  >span>input::-moz-placeholder{text-transform:none}ds-autocomplete[_ngcontent-%COMP%]    >div>p-autocomplete  >span>input::placeholder{text-transform:none}sirsim-overlay[_ngcontent-%COMP%]   ds-table[_ngcontent-%COMP%]     .p-datatable  {padding:20px 0}ds-table[_ngcontent-%COMP%]     .custom-table-footer{padding:0 1rem;margin-bottom:1rem}"]}),e})()},"YF1/":function(e,t,o){var n,i,a=o("fjNU"),r=o("X/SR"),s=0,c=0;e.exports=function(e,t,o){var l=t&&o||0,d=t||[],u=(e=e||{}).node||n,p=void 0!==e.clockseq?e.clockseq:i;if(null==u||null==p){var m=a();null==u&&(u=n=[1|m[0],m[1],m[2],m[3],m[4],m[5]]),null==p&&(p=i=16383&(m[6]<<8|m[7]))}var b=void 0!==e.msecs?e.msecs:(new Date).getTime(),g=void 0!==e.nsecs?e.nsecs:c+1,f=b-s+(g-c)/1e4;if(f<0&&void 0===e.clockseq&&(p=p+1&16383),(f<0||b>s)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=b,c=g,i=p;var h=(1e4*(268435455&(b+=122192928e5))+g)%4294967296;d[l++]=h>>>24&255,d[l++]=h>>>16&255,d[l++]=h>>>8&255,d[l++]=255&h;var w=b/4294967296*1e4&268435455;d[l++]=w>>>8&255,d[l++]=255&w,d[l++]=w>>>24&15|16,d[l++]=w>>>16&255,d[l++]=p>>>8|128,d[l++]=255&p;for(var k=0;k<6;++k)d[l+k]=u[k];return t||r(d)}},aMpM:function(e,t,o){"use strict";o.d(t,"a",(function(){return u}));var n=o("EM62"),i=o("nIj0"),a=o("Ld6Z"),r=o("ARIb"),s=o("d7xp"),c=o("sEIs"),l=o("Tgah"),d=o("Jzyt");let u=(()=>{class e{constructor(e,t,o,n,i){this.container=e,this.eformService=t,this.fileService=o,this.ekrsService=n,this.router=i,this.readonly=!1,this.ekrsFormHandler=this.eformService.ekrsFormHandler$.value}ngOnInit(){var e;this.initForm(),this.formularz=null===(e=null==this?void 0:this.parentForm)||void 0===e?void 0:e.getFormularz()}setParentAcessData(e){this.parentForm=e}initForm(){this.form=this.container.control.get("zalaczniki")}}return e.\u0275fac=function(t){return new(t||e)(n.Nb(i.a),n.Nb(a.a),n.Nb(r.a),n.Nb(s.a),n.Nb(c.e))},e.\u0275cmp=n.Hb({type:e,selectors:[["form-ekrs-rej-psa-attachments"]],inputs:{readonly:"readonly",formularzId:"formularzId"},decls:3,vars:6,consts:[[3,"form","readonly","formularzId"]],template:function(e,t){1&e&&(n.Tb(0,"form-ekrs-rej-psa-attachments-table",0),n.Jc(1),n.dc(2,"transloco"),n.Sb()),2&e&&(n.jc("form",t.form)("readonly",t.readonly)("formularzId",t.formularzId),n.Ab(1),n.Lc(" ",n.ec(2,4,"psa.zalaczniki.tytul"),"\n"))},directives:[l.a],pipes:[d.e],styles:["@media screen and (max-width:1610px){ds-table[_ngcontent-%COMP%]  p-table  th{display:none}ds-table[_ngcontent-%COMP%]  p-table  td{border:0;clear:left;display:block;float:left;text-align:left;width:100%}}",".container[_ngcontent-%COMP%]{display:flex}.fieldset[_ngcontent-%COMP%]{border:none;padding:0;margin:0}.fieldset[_ngcontent-%COMP%] > .ds-panel--margin[_ngcontent-%COMP%]:first-child{margin-top:0}.card[_ngcontent-%COMP%]{background-color:#fff;padding:16px;border:1px solid #e0e0e0;border-radius:2px}.p-grid[_ngcontent-%COMP%]   ds-checkbox[_ngcontent-%COMP%]     p-checkbox{margin-top:1.85rem}label[_ngcontent-%COMP%]{color:#606060;display:block;font-size:14px;padding:0}ds-table[_ngcontent-%COMP%]    >div>p-table   tr.table-row td.row-button-actions ds-button.p-mr-2:last-child{margin-right:0!important}ds-table[_ngcontent-%COMP%]    >div>p-table   th{word-break:break-word}ds-table[_ngcontent-%COMP%]    >div>p-table   .ekrs-shrink-padding{padding:.75rem .25rem}ds-inputmask[_ngcontent-%COMP%]     .p-inputtext{height:33.61px!important}ds-autocomplete[_ngcontent-%COMP%]    >div>p-autocomplete  >span>input::-moz-placeholder{text-transform:none}ds-autocomplete[_ngcontent-%COMP%]    >div>p-autocomplete  >span>input::placeholder{text-transform:none}sirsim-overlay[_ngcontent-%COMP%]   ds-table[_ngcontent-%COMP%]     .p-datatable  {padding:20px 0}ds-table[_ngcontent-%COMP%]     .custom-table-footer{padding:0 1rem;margin-bottom:1rem}"]}),e})()},atEQ:function(e,t,o){"use strict";o.d(t,"a",(function(){return i}));var n=o("EM62");let i=(()=>{class e{getFilter(){return(e,t)=>{if(""===e.query.trim())return[...t];{const o=e.query.toUpperCaseKRS(),n=[];for(const e of t)e.toUpperCaseKRS().includes(o)&&n.push(e);return n}}}getFilterByKey(){return(e,t,o)=>{var n;const i=null===(n=e.query)||void 0===n?void 0:n.toUpperCaseKRS();if(""===i.trim())return[...t];const a=[];for(const r of t)r[o].toUpperCaseKRS().includes(i)&&a.push(r);return a}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},azj9:function(e,t,o){"use strict";o.d(t,"a",(function(){return w}));var n=o("kuMc"),i=o("MWQY"),a=o("EM62"),r=o("nIj0"),s=o("sEIs"),c=o("TUxC"),l=o("2kYt"),d=o("K86B"),u=o("Jzyt");function p(e,t){if(1&e&&(a.Tb(0,"div",12),a.Jc(1),a.dc(2,"transloco"),a.Sb()),2&e){const e=a.cc();a.Ab(1),a.Lc(" ",a.ec(2,1,e.title),": ")}}function m(e,t){if(1&e){const e=a.Ub();a.Tb(0,"ds-checkbox",17),a.ac("ngModelChange",(function(t){return a.zc(e),a.cc(2).onOswiadczenieBrakPeselChange(t)})),a.dc(1,"transloco"),a.Sb()}if(2&e){const e=a.cc(2);a.jc("label",a.ec(1,1,e.oswiadczenieBrakPeselLabel))}}function b(e,t){if(1&e&&(a.Tb(0,"div",3),a.Tb(1,"div",4),a.Tb(2,"div",13),a.Ob(3,"ds-pesel",14),a.dc(4,"transloco"),a.Sb(),a.Tb(5,"div",15),a.Hc(6,m,2,3,"ds-checkbox",16),a.Sb(),a.Sb(),a.Sb()),2&e){const e=a.cc();a.Ab(3),a.jc("label",a.ec(4,2,"numer.pesel")),a.Ab(3),a.jc("ngIf",!e.isDisabled)}}function g(e,t){1&e&&(a.Ob(0,"ds-checkbox",21),a.dc(1,"transloco")),2&e&&a.jc("label",a.ec(1,1,"oswiadczenieONieposiadaniu.nip"))}function f(e,t){if(1&e&&(a.Tb(0,"div",3),a.Tb(1,"div",4),a.Tb(2,"div",18),a.Ob(3,"ds-nip",19),a.Sb(),a.Tb(4,"div",15),a.Hc(5,g,2,3,"ds-checkbox",20),a.Sb(),a.Sb(),a.Sb()),2&e){const e=a.cc();a.Ab(5),a.jc("ngIf",!e.isDisabled)}}function h(e,t){if(1&e&&(a.Tb(0,"ds-panel",22),a.Tb(1,"div",3),a.Tb(2,"div",4),a.Tb(3,"div",23),a.Ob(4,"ds-textarea",24),a.dc(5,"transloco"),a.Sb(),a.Sb(),a.Sb(),a.Sb()),2&e){const e=a.cc();a.jc("formGroup",e.formGroup),a.Ab(4),a.jc("label",a.ec(5,6,e.funkcjaLabel))("capitalize",!0)("maxLength",200)("showCounter",!0)("autoResize",!0)}}let w=(()=>{class e extends i.a{constructor(e,t){super(),this.container=e,this.router=t,this.showHeader=!1,this.oswiadczenieBrakPeselLabel="oswiadczam.niePosiada.pesel",this.title="daneOsobyFizycznej",this.styleClass="ds-panel--margin",this.isDisabled=!1,this.funkcjaLabel="funkcjaWOrganieReprezentacji",t.events.pipe(Object(n.a)(this.destroy$)).subscribe(e=>{this.onValidControls()})}ngOnInit(){this.formGroup=this.container.control}onOswiadczenieBrakPeselChange(e){const t=this.formGroup.get("NIP");if(!t)return;const o={onlySelf:!0,emitEvent:!1};e?t.enable(o):(this.formGroup.get("OswiadczenieBrakNIP").setValue(!1),t.reset(o),t.disable(o))}onValidControls(){this.formGroup.get("PESEL").markAsTouched(),this.formGroup.get("Imie").markAsTouched(),this.formGroup.get("NazwiskoICzlon").markAsTouched()}}return e.\u0275fac=function(t){return new(t||e)(a.Nb(r.a),a.Nb(s.e))},e.\u0275cmp=a.Hb({type:e,selectors:[["sirsim-dane-osoby-fizycznej"]],inputs:{showHeader:"showHeader",oswiadczenieBrakPeselLabel:"oswiadczenieBrakPeselLabel",title:"title",styleClass:"styleClass",isDisabled:"isDisabled",funkcjaLabel:"funkcjaLabel"},features:[a.xb],decls:26,vars:45,consts:[["role","group","aria-labelledby","npd-osobaFizyczna","styleClass","p-panel-header-display-none",3,"formGroup"],["class","question","id","npd-osobaFizyczna",4,"ngIf"],["class","container",4,"ngIf"],[1,"container"],[1,"p-grid","w-100"],[1,"p-xl-4","p-col-6","responsive-col"],["formControlName","Imie","maxLength","24","required","true",3,"label","showClear","capitalize","showCounter"],["formControlName","ImieDrugie","maxLength","24",3,"label","showClear","capitalize","showCounter"],[1,"p-xl-4","p-col-6","p-mt-auto","responsive-col"],["formControlName","NazwiskoICzlon","maxLength","50","required","true",3,"label","showClear","capitalize","showCounter"],["formControlName","NazwiskoIICzlon","maxLength","50",3,"label","showClear","capitalize","showCounter"],["class","ds-panel--margin","role","group","aria-labelledby","npd-osobaFizyczna","styleClass","p-panel-header-display-none",3,"formGroup",4,"ngIf"],["id","npd-osobaFizyczna",1,"question"],[1,"p-col-fixed","pesel-width"],["formControlName","PESEL",3,"label"],[1,"p-col-fixed","checkbox-responsive"],["formControlName","OswiadczenieBrakPESEL",3,"label","ngModelChange",4,"ngIf"],["formControlName","OswiadczenieBrakPESEL",3,"label","ngModelChange"],[1,"p-col-fixed","nip-width"],["formControlName","NIP","label","NIP","placeholder",""],["formControlName","OswiadczenieBrakNIP",3,"label",4,"ngIf"],["formControlName","OswiadczenieBrakNIP",3,"label"],["role","group","aria-labelledby","npd-osobaFizyczna","styleClass","p-panel-header-display-none",1,"ds-panel--margin",3,"formGroup"],[1,"p-col"],["formControlName","Funkcja",3,"label","capitalize","maxLength","showCounter","autoResize"]],template:function(e,t){1&e&&(a.Tb(0,"ds-panel",0),a.Hc(1,p,3,3,"div",1),a.Hc(2,b,7,4,"div",2),a.dc(3,"contains"),a.Hc(4,f,6,1,"div",2),a.dc(5,"contains"),a.Tb(6,"div",3),a.Tb(7,"div",4),a.Tb(8,"div",5),a.Ob(9,"ds-input",6),a.dc(10,"transloco"),a.Sb(),a.Tb(11,"div",5),a.Ob(12,"ds-input",7),a.dc(13,"transloco"),a.dc(14,"transloco"),a.Sb(),a.Sb(),a.Sb(),a.Tb(15,"div",3),a.Tb(16,"div",4),a.Tb(17,"div",8),a.Ob(18,"ds-input",9),a.dc(19,"transloco"),a.Sb(),a.Tb(20,"div",8),a.Ob(21,"ds-input",10),a.dc(22,"transloco"),a.dc(23,"transloco"),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Hc(24,h,6,8,"ds-panel",11),a.dc(25,"contains")),2&e&&(a.Cb(t.styleClass),a.jc("formGroup",t.formGroup),a.Ab(1),a.jc("ngIf",t.showHeader),a.Ab(1),a.jc("ngIf",a.fc(3,24,t.formGroup,"PESEL")),a.Ab(2),a.jc("ngIf",a.fc(5,27,t.formGroup,"NIP")&&1==t.formGroup.get("OswiadczenieBrakPESEL").value),a.Ab(5),a.jc("label",a.ec(10,30,"pierwszeImie"))("showClear",!1)("capitalize",!0)("showCounter",!0),a.Ab(3),a.jc("label",a.ec(13,32,"drugieImie")+a.ec(14,34,"opcjonalnie"))("showClear",!1)("capitalize",!0)("showCounter",!0),a.Ab(6),a.jc("label",a.ec(19,36,"nazwiskoLubPierwszyCzlonNazwiskaZlozonego"))("showClear",!1)("capitalize",!0)("showCounter",!0),a.Ab(3),a.jc("label",a.ec(22,38,"drugiCzlonNazwiskaZlozonego")+a.ec(23,40,"opcjonalnie"))("showClear",!1)("capitalize",!0)("showCounter",!0),a.Ab(3),a.jc("ngIf",a.fc(25,42,t.formGroup,"Funkcja")))},directives:[c.db,r.q,r.h,l.o,c.y,r.p,r.f,r.v,c.gb,c.r,c.X,c.yb],pipes:[d.a,u.e],styles:["@media (max-width:611px),screen and (max-width:984px) and (min-width:901px){.checkbox-responsive[_ngcontent-%COMP%]{width:100%}ds-checkbox[_ngcontent-%COMP%]  p-checkbox{margin-top:0!important;margin-bottom:.5rem}}@media screen and (max-width:460px){.responsive-col[_ngcontent-%COMP%]{width:100%}}",".container[_ngcontent-%COMP%]{display:flex}.fieldset[_ngcontent-%COMP%]{border:none;padding:0;margin:0}.fieldset[_ngcontent-%COMP%] > .ds-panel--margin[_ngcontent-%COMP%]:first-child{margin-top:0}.card[_ngcontent-%COMP%]{background-color:#fff;padding:16px;border:1px solid #e0e0e0;border-radius:2px}.p-grid[_ngcontent-%COMP%]   ds-checkbox[_ngcontent-%COMP%]     p-checkbox{margin-top:1.85rem}label[_ngcontent-%COMP%]{color:#606060;display:block;font-size:14px;padding:0}ds-table[_ngcontent-%COMP%]    >div>p-table   tr.table-row td.row-button-actions ds-button.p-mr-2:last-child{margin-right:0!important}ds-table[_ngcontent-%COMP%]    >div>p-table   th{word-break:break-word}ds-table[_ngcontent-%COMP%]    >div>p-table   .ekrs-shrink-padding{padding:.75rem .25rem}ds-inputmask[_ngcontent-%COMP%]     .p-inputtext{height:33.61px!important}ds-autocomplete[_ngcontent-%COMP%]    >div>p-autocomplete  >span>input::-moz-placeholder{text-transform:none}ds-autocomplete[_ngcontent-%COMP%]    >div>p-autocomplete  >span>input::placeholder{text-transform:none}sirsim-overlay[_ngcontent-%COMP%]   ds-table[_ngcontent-%COMP%]     .p-datatable  {padding:20px 0}ds-table[_ngcontent-%COMP%]     .custom-table-footer{padding:0 1rem;margin-bottom:1rem}"]}),e})()},"eh+P":function(e,t,o){"use strict";o.d(t,"a",(function(){return L}));var n=o("EM62"),i=o("r4Sb"),a=o("YtkY"),r=o("kuMc"),s=o("s5pZ"),c=o("MWQY"),l=o("R9BS"),d=o("IXii"),u=o("Ld6Z"),p=o("atEQ"),m=o("r1ci"),b=o("ARIb"),g=o("/ICw"),f=o("nIj0"),h=o("TUxC"),w=o("2kYt"),k=o("Qrsi"),z=o("Pwvu");function y(e,t){if(1&e&&n.Ob(0,"sirsim-instrukcja",11),2&e){const e=n.cc();n.jc("heading",e.heading)}}let v=(()=>{class e extends c.a{constructor(e){super(),this.control=e,this.showMessage=!1,this.isValidCrewan=!1,this.validateCrewan=e=>{let t=e.substring(4,e.length)+e.substring(0,4),o="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),n={},i=[];return o.forEach((e,t)=>{n[e]=t+10}),t.split("").forEach((e,t)=>{i[t]=n[e]||e}),1===this.modulo(i.join("").toString(),97)},this.modulo=(e,t)=>{let o,n,i="";for(o=0;o<e.length;o++)i+=e.charAt(o),n=i%t,i=n.toString();return i/1}}ngOnInit(){var e;this.form=this.control.control;const t=this.form.get("crewan");if(null===(e=null==t?void 0:t.value)||void 0===e?void 0:e.includes("RW")){const e=t.value.replace("RW","");t.patchValue(e.trim())}this.form.get("crewan").valueChanges.pipe(Object(r.a)(this.destroy$)).subscribe(e=>{this.showMessage=!1,(null==e?void 0:e.length)>0?this.form.get("crewan").setErrors({required:!0}):this.form.get("crewan").setErrors(null)})}onValidadeCrewan(){var e;const t=this.form.get("crewanPrefix").value+(null===(e=this.form.get("crewan").value)||void 0===e?void 0:e.replace(/[^a-z0-9]/gi,""))||"",o=this.validateCrewan(t);this.isValidCrewan=o,this.showMessage=!0,this.heading=o?"NUMER CREWAN WYPE\u0141NIONY POPRAWNIE":"B\u0141\u0118DNY NUMER CREWAN, ZWERYFIKUJ GO Z DOKUMENTEM (PODAJ REP. N)",o?this.form.get("crewan").setErrors(null):this.form.get("crewan").setErrors({required:!0})}ngOnDestroy(){}czyNumer(e){(isNaN(e.key)&&"-"!=e.key||32==e.keyCode)&&e.preventDefault()}}return e.\u0275fac=function(t){return new(t||e)(n.Nb(f.a))},e.\u0275cmp=n.Hb({type:e,selectors:[["sirsim-crewan"]],features:[n.xb],decls:12,vars:6,consts:[[3,"formGroup","showHeader"],[1,"h3","p-mb-3"],["tooltipPosition","right","pTooltip","Podaj identyfikator Rep. N notarialnego dokumentu elektronicznego, kt\xf3ry znajdziesz na zawiadomieniu o rejestracji.\nNumer ten ma posta\u0107:\n\nRR KK - NNNN..., gdzie:\n\nRR - jest dwuliterowym oznaczeniem rejestru\nKK - dwucyfrow\u0105 sum\u0105 kontroln\u0105\nNNNN... - identyfikatorem rekordu w repozytorium",1,"pi","pi-info-circle"],[1,"p-grid","content"],[1,"p-col-1"],["formControlName","crewanPrefix",3,"capitalize","readonly"],[1,"p-col-8"],["formControlName","crewan",3,"capitalize","keypress"],[1,"p-col-3","p-mt-auto"],["label","Sprawd\u017a poprawno\u015b\u0107",3,"onClick"],[3,"heading",4,"ngIf"],[3,"heading"]],template:function(e,t){1&e&&(n.Tb(0,"ds-panel",0),n.Tb(1,"h3",1),n.Jc(2,"Numer (Rep .N) aktu notarialnego w CREWAN (Centralne Repozytorium Elektronicznych Wypis\xf3w Akt\xf3w Notarialnych) "),n.Ob(3,"i",2),n.Sb(),n.Tb(4,"div",3),n.Tb(5,"div",4),n.Ob(6,"ds-input",5),n.Sb(),n.Tb(7,"div",6),n.Tb(8,"ds-input",7),n.ac("keypress",(function(e){return t.czyNumer(e)})),n.Sb(),n.Sb(),n.Tb(9,"div",8),n.Tb(10,"ds-button",9),n.ac("onClick",(function(){return t.onValidadeCrewan()})),n.Sb(),n.Sb(),n.Sb(),n.Hc(11,y,1,1,"sirsim-instrukcja",10),n.Sb()),2&e&&(n.jc("formGroup",t.form)("showHeader",!1),n.Ab(6),n.jc("capitalize",!0)("readonly",!0),n.Ab(2),n.jc("capitalize",!0),n.Ab(3),n.jc("ngIf",t.showMessage))},directives:[h.db,f.q,f.h,k.a,h.y,f.p,f.f,h.n,w.o,z.a],styles:[""]}),e})();var j=o("xoXu"),O=o("jSKm"),C=o("Jzyt");const S=["modalVerifying"];function P(e,t){if(1&e&&(n.Tb(0,"ds-panel"),n.Tb(1,"ds-panel-header",2),n.Jc(2),n.dc(3,"transloco"),n.Sb(),n.Tb(4,"div",14),n.Tb(5,"div",15),n.Ob(6,"ds-radio",16),n.dc(7,"transloco"),n.Sb(),n.Sb(),n.Tb(8,"div",14),n.Tb(9,"div",15),n.Ob(10,"ds-radio",17),n.dc(11,"transloco"),n.Sb(),n.Sb(),n.Sb()),2&e){const e=n.cc();n.Cb(e.readonly?"p-mb-4":"p-mb-0"),n.Ab(2),n.Kc(n.ec(3,8,"dodajZalacznikPoprzez")),n.Ab(4),n.jc("label",n.ec(7,10,"wskazanieNumeruAktuNotarialnegoWCrewan"))("disabled",e.blockTypeChange),n.Ab(4),n.jc("label",n.ec(11,12,"dolaczeniePliku"))("disabled",e.blockTypeChange)}}function M(e,t){1&e&&(n.Tb(0,"sirsim-instrukcja",19),n.dc(1,"transloco"),n.Tb(2,"p",20),n.Jc(3),n.dc(4,"transloco"),n.Sb(),n.Ob(5,"img",21),n.Sb()),2&e&&(n.jc("heading",n.ec(1,2,"instrukcjaWskazaniaNumeruAktuNotarialnegoWCrewan")),n.Ab(3),n.Kc(n.ec(4,4,"wskazNumerAktuNotarialnegoWCrewan")))}function x(e,t){if(1&e&&(n.Tb(0,"div"),n.Hc(1,M,6,6,"sirsim-instrukcja",18),n.Ob(2,"sirsim-crewan"),n.Sb()),2&e){const e=n.cc();n.Ab(1),n.jc("ngIf",!e.readonly)}}function T(e,t){1&e&&(n.Tb(0,"div"),n.Tb(1,"sirsim-instrukcja",19),n.Tb(2,"p",22),n.Jc(3),n.dc(4,"transloco"),n.Sb(),n.Tb(5,"p",22),n.Jc(6),n.dc(7,"transloco"),n.Sb(),n.Sb(),n.Sb()),2&e&&(n.Ab(1),n.jc("heading","instrukcjaDolaczaniaPlikowZalacznikow.naglowek"),n.Ab(2),n.Kc(n.ec(4,3,"instrukcjaDolaczaniaPlikowZalacznikow.p1")),n.Ab(3),n.Kc(n.ec(7,5,"instrukcjaDolaczaniaPlikowZalacznikow.p2")))}function A(e,t){if(1&e&&(n.Ob(0,"ds-calendar",31),n.dc(1,"transloco"),n.dc(2,"transloco")),2&e){const e=n.cc(2);n.jc("label",n.ec(1,8,"psa.zalaczniki.data"))("dateFormat",e.dsDateFormat)("placeholder",n.ec(2,10,"wybierzDate"))("showOtherMonths",!1)("selectOtherMonths",!1)("disablePDatepickerToday",!0)("maxDate",e.today)("required",!0)}}function I(e,t){1&e&&(n.Ob(0,"ds-input",32),n.dc(1,"transloco")),2&e&&n.jc("label",n.ec(1,4,"psa.zalaczniki.data"))("readonly",!0)("showClear",!1)("capitalize",!0)}function G(e,t){1&e&&n.Ob(0,"form-ekrs-rej-psa-attachments-new-copy-table")}function _(e,t){if(1&e&&n.Ob(0,"form-ekrs-rej-psa-attachments-new-documents-table",34),2&e){const e=n.cc(3);n.jc("formularzId",e.formularzId)}}function N(e,t){if(1&e&&(n.Tb(0,"div"),n.Hc(1,G,1,0,"form-ekrs-rej-psa-attachments-new-copy-table",7),n.Hc(2,_,1,1,"form-ekrs-rej-psa-attachments-new-documents-table",33),n.Sb()),2&e){const e=n.cc(2);n.Ab(1),n.jc("ngIf",!e.readonly),n.Ab(1),n.jc("ngIf",e.readonly)}}function D(e,t){if(1&e){const e=n.Ub();n.Tb(0,"ds-panel",23),n.Tb(1,"ds-panel-header",2),n.Jc(2),n.dc(3,"transloco"),n.Sb(),n.Tb(4,"div",24),n.Tb(5,"div",25),n.Hc(6,A,3,12,"ds-calendar",26),n.Hc(7,I,2,6,"ds-input",27),n.Sb(),n.Tb(8,"div",25),n.Tb(9,"ds-autocomplete",28),n.ac("completeMethod",(function(t){n.zc(e);const o=n.cc();return o.jezykiDokumentowSuggestions=o.filter(t,o.jezykiDokumentow)}))("onSelect",(function(t){return n.zc(e),n.cc().onSelect(t)})),n.dc(10,"transloco"),n.Sb(),n.Sb(),n.Tb(11,"div",25),n.Ob(12,"ds-input",29),n.dc(13,"transloco"),n.Sb(),n.Tb(14,"div",25),n.Ob(15,"ds-input",30),n.dc(16,"transloco"),n.Sb(),n.Sb(),n.Hc(17,N,3,2,"div",7),n.Sb()}if(2&e){const e=n.cc();n.Ab(2),n.Kc(n.ec(3,14,"dolaczeniePlikuHeader")),n.Ab(4),n.jc("ngIf",!e.readonly),n.Ab(1),n.jc("ngIf",e.readonly),n.Ab(2),n.jc("label",n.ec(10,16,"psa.zalaczniki.jezyk"))("suggestions",e.jezykiDokumentowSuggestions)("capitalize",!0)("required",!0),n.Ab(3),n.jc("label",n.ec(13,18,"psa.zalaczniki.format"))("readonly",!0)("showClear",!1),n.Ab(3),n.jc("label",n.ec(16,20,"psa.zalaczniki.rozmiar"))("readonly",!0)("showClear",!1),n.Ab(2),n.jc("ngIf",!e.form.get("crewan").value&&"plik"==e.form.get("typZalacznika").value)}}function F(e,t){1&e&&(n.Rb(0),n.Jc(1,"Trwa weryfikacja podpis\xf3w, prosz\u0119 czeka\u0107..."),n.Qb())}function R(e,t){1&e&&(n.Rb(0),n.Jc(1,"Weryfikacja podpis\xf3w"),n.Qb())}function E(e,t){1&e&&n.Ob(0,"ds-loader")}function W(e,t){1&e&&n.Ob(0,"sirsim-instrukcja",35),2&e&&n.jc("heading","B\u0141\u0104D DODANIA ZA\u0141\u0104CZNIKA")("note","Podpis nie jest zgodny z za\u0142\u0105czonym dokumentem lub dokument za\u0142\u0105cznika albo podpis zosta\u0142y zmodyfikowane po podpisaniu.")}let L=(()=>{class e extends c.a{constructor(e,t,o,a,r,c,l){super(),this.formGroupService=e,this.slownikService=t,this.eformService=o,this.prsSlowniki=a,this.autocompleteService=r,this.ucpeService=c,this.fileService=l,this.hide=new n.n,this.submitForm=new n.n,this.blockTypeChange=!1,this.showAttachmentError=!1,this.confirmText="zapisz",this.showCancel=!0,this.form=this.formGroupService.getPsaNewAttachementGroup(i.a.DODATKOWY),this.TypZalacznika=i.a,this.jezykiDokumentowSuggestions=[],this.documentyRodzajSlownik=[],this.documentTypes=[],this.documentTypesSuggestions=[],this.dsDateFormat=s.a.DS_CALENDAR_FORMAT_DATE,this.filter=this.autocompleteService.getFilter(),this.today=new Date,this.ekrsFormHandler=this.eformService.ekrsFormHandler$.value}set data(e){e&&(this.form.patchValue(e),e.data||this.form.patchValue({podpisy:[]}))}ngOnInit(){var e;this.formularzId||(this.formularzId=null===(e=this.ekrsFormHandler.formData.getFormularz())||void 0===e?void 0:e.id),this.readonly?(this.showCancel=!1,this.confirmText="zamknij",this.form.disable()):this.initDocumentTypes(),this.naglowek="psa.zalaczniki.modal."+(this.readonly?"naglowekPobierz":"naglowekNowy"),this.slownikService.getSlownik("J\u0119zyki").pipe(Object(a.a)(e=>e.map(e=>e.nazwa))).subscribe(e=>{const t=this.sortJezyki(e);this.jezykiDokumentowSuggestions=t,this.jezykiDokumentow=t}),this.form.get("crewan").valueChanges.pipe(Object(r.a)(this.destroy$)).subscribe(()=>{this.form.get("crewan").value?this.form.get("data").disable():this.form.get("data").enable()}),this.resetForm(),this.form.get("data").value&&""!=this.form.get("data").value&&this.form.get("typZalacznika").setValue("plik"),this.form.get("crewan").value&&""!=this.form.get("crewan").value&&this.form.get("typZalacznika").setValue("crewan")}submit(){this.readonly?this.submitForm.emit(null):this.verifyDocumentWithSignatures()}submitEmit(){var e,t,o;const n=null===(o=null===(t=null===(e=this.form.get("plik"))||void 0===e?void 0:e.value)||void 0===t?void 0:t.plik)||void 0===o?void 0:o.size,i=n?this.fileService.formatBytes(n):null;this.form.get("rozmiarPliku").setValue(i),this.submitForm.emit(this.form)}verifyDocumentWithSignatures(){var e;this.showAttachmentError=!1;const t=this.form.value,o=null===(e=t.odpisy)||void 0===e?void 0:e.filter(e=>e.file);o.length>0?(this.modalVerifying.enableModal(),(t.plik.file?this.ucpeService.verifyDocumentWithSignatures(t.plik.file,[...o.map(e=>e.file)]):this.ucpeService.verifyDocumentCrdWithSignatures(this.formularzId,t.plik.plik.crdGuid,[...o.map(e=>e.file)])).subscribe(e=>{e.isValidDocumentSignature?this.submitEmit():this.showAttachmentError=!0},()=>this.modalVerifying.disableModal())):this.submitEmit()}onSelect(e){this.form.patchValue({jezyk:e.toUpperCaseKRS()})}sortJezyki(e){let t=[];for(let o=0;o<e.length;o++)t.push(e[o].toUpperCaseKRS());return t.sort((e,t)=>e.localeCompare(t))}initDocumentTypes(){var e,t,o,n,i;let a=this.ekrsFormHandler.type,r=this.ekrsFormHandler.defaults.symbol,s=this.ekrsFormHandler.defaults.nazwa;"Zaleg\u0142o\u015bci / Wierzytelno\u015bci"==s&&("wierzytelnosci"==(null===(i=null===(n=null===(o=null===(t=null===(e=this.ekrsFormHandler)||void 0===e?void 0:e.formData)||void 0===t?void 0:t.form)||void 0===o?void 0:o.value)||void 0===n?void 0:n.ZaleglosciWierzytelnosci)||void 0===i?void 0:i.TypZgloszenia)?(a="WniosekWierzytelnosci",r="KRS-Z42 WIERZYTELN.",s="WNIOSEK O ZMIAN\u0118 WPISU W KRAJOWYM REJESTRZE S\u0104DOWYM W ZAKRESIE WIERZYTELNO\u015aCI"):(a="wniosekZaleglosci",r="KRS-Z40 ZALEG\u0141.",s="WNIOSEK O ZMIAN\u0118 WPISU W KRAJOWYM REJESTRZE S\u0104DOWYM W ZAKRESIE ZALEG\u0141O\u015aCI")),this.prsSlowniki.getSlownikDokumentow({slownik:"RodzajDokumentu",rodzicFiltr:{skrotNazwy:a,kod:r,nazwa:s}}).subscribe(e=>{this.documentyRodzajSlownik=e,this.documentTypes=e.map(e=>e.nazwa),this.documentTypesSuggestions=this.documentTypes})}nazwaDokumentuChange(e){const t=this.documentyRodzajSlownik.find(t=>t.nazwa===e);t&&this.form.get("preDefZalacznikId").setValue(t.id)}resetForm(){this.form.get("typZalacznika").valueChanges.pipe(Object(r.a)(this.destroy$)).subscribe(e=>{"plik"==e?this.form.get("crewan").setValue(null):(this.form.get("data").setValue(null),this.form.get("plik").setValue(null),this.form.get("format").setValue(null),this.form.get("podpisy").setValue([]),this.form.get("odpisy").setValue([]),this.form.get("rozmiar").setValue(null))})}}return e.\u0275fac=function(t){return new(t||e)(n.Nb(l.a),n.Nb(d.a),n.Nb(u.a),n.Nb(d.a),n.Nb(p.a),n.Nb(m.a),n.Nb(b.a))},e.\u0275cmp=n.Hb({type:e,selectors:[["form-ekrs-rej-psa-attachments-new"]],viewQuery:function(e,t){var o;1&e&&n.Oc(S,!0),2&e&&n.wc(o=n.bc())&&(t.modalVerifying=o.first)},inputs:{readonly:"readonly",blockTypeChange:"blockTypeChange",data:"data",formularzId:"formularzId"},outputs:{hide:"hide",submitForm:"submitForm"},features:[n.xb],decls:22,vars:31,consts:[[3,"overlayHeader","formGroup","center","margin","paddingLeft","confirmText","showCancel","overflowAuto","submitForm","hide","alternate"],[1,"ds-panel--margin"],[1,"h5"],[1,"p-grid","content"],[1,"p-col"],["formControlName","nazwaDokumentu","maxLength","400",3,"label","readonly","showClear","dropdown","forceSelection","suggestions","capitalize","completeMethod","ngModelChange"],[3,"class",4,"ngIf"],[4,"ngIf"],["class","p-mt-0",4,"ngIf"],[1,"modal-box",3,"width"],["modalVerifying",""],["dsModalTitle","",1,"modalTitle"],["dsModalContent",""],[3,"heading","note",4,"ngIf"],[1,"p-grid"],[1,"p-col-12"],["formControlName","typZalacznika","value","crewan",3,"label","disabled"],["formControlName","typZalacznika","value","plik",3,"label","disabled"],[3,"heading",4,"ngIf"],[3,"heading"],[1,"note","p-margin"],["src","assets/images/crewan.png","alt","Numer CREWAN"],[1,"p-margin","note"],[1,"p-mt-0"],[1,"p-grid","content","p-mt-2"],[1,"p-col","p-mt-auto"],["formControlName","data","dataType","string","iconRight","pi-calendar",3,"label","dateFormat","placeholder","showOtherMonths","selectOtherMonths","disablePDatepickerToday","maxDate","required",4,"ngIf"],["formControlName","data",3,"label","readonly","showClear","capitalize",4,"ngIf"],["formControlName","jezyk","dropdown","true","forceSelection","true",3,"label","suggestions","capitalize","required","completeMethod","onSelect"],["formControlName","format",3,"label","readonly","showClear"],["formControlName","rozmiar",3,"label","readonly","showClear"],["formControlName","data","dataType","string","iconRight","pi-calendar",3,"label","dateFormat","placeholder","showOtherMonths","selectOtherMonths","disablePDatepickerToday","maxDate","required"],["formControlName","data",3,"label","readonly","showClear","capitalize"],[3,"formularzId",4,"ngIf"],[3,"formularzId"],[3,"heading","note"]],template:function(e,t){1&e&&(n.Tb(0,"sirsim-overlay",0),n.ac("submitForm",(function(){return t.submit()}))("hide",(function(){return t.hide.emit()}))("alternate",(function(){return t.hide.emit()})),n.dc(1,"transloco"),n.Tb(2,"ds-panel",1),n.Tb(3,"ds-panel-header",2),n.Jc(4),n.dc(5,"transloco"),n.Sb(),n.Tb(6,"div",3),n.Tb(7,"div",4),n.Tb(8,"ds-autocomplete",5),n.ac("completeMethod",(function(e){return t.documentTypesSuggestions=t.filter(e,t.documentTypes)}))("ngModelChange",(function(e){return t.nazwaDokumentuChange(e)})),n.dc(9,"transloco"),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Hc(10,P,12,14,"ds-panel",6),n.Hc(11,x,3,1,"div",7),n.Hc(12,T,8,7,"div",7),n.Hc(13,D,18,22,"ds-panel",8),n.Sb(),n.Tb(14,"ds-modal",9,10),n.Tb(16,"div",11),n.Hc(17,F,2,0,"ng-container",7),n.Hc(18,R,2,0,"ng-container",7),n.Sb(),n.Tb(19,"div",12),n.Hc(20,E,1,0,"ds-loader",7),n.Hc(21,W,1,2,"sirsim-instrukcja",13),n.Sb(),n.Sb()),2&e&&(n.jc("overlayHeader",n.ec(1,25,t.naglowek))("formGroup",t.form)("center",!1)("margin",!0)("paddingLeft",!0)("confirmText",t.confirmText)("showCancel",t.showCancel)("overflowAuto",!1),n.Ab(4),n.Kc(n.ec(5,27,"wybierzRodzajZalaczanegoDokumentu")),n.Ab(4),n.jc("label",n.ec(9,29,"psa.zalaczniki.rodzajDokumentu"))("readonly",t.readonly||t.form.get("typ").value===t.TypZalacznika.ZALECANY)("showClear",!1)("dropdown",!(t.readonly||t.form.get("typ").value===t.TypZalacznika.ZALECANY))("forceSelection",!0)("suggestions",t.documentTypesSuggestions)("capitalize",!0),n.Ab(2),n.jc("ngIf",!t.blockTypeChange),n.Ab(1),n.jc("ngIf",!t.form.get("plik").value&&0==t.form.get("odpisy").value.length&&"crewan"==t.form.get("typZalacznika").value),n.Ab(1),n.jc("ngIf",!t.form.get("crewan").value&&"plik"==t.form.get("typZalacznika").value&&!t.readonly),n.Ab(1),n.jc("ngIf",!t.form.get("crewan").value&&"plik"==t.form.get("typZalacznika").value),n.Ab(1),n.jc("width","70%"),n.Ab(3),n.jc("ngIf",!t.showAttachmentError),n.Ab(1),n.jc("ngIf",t.showAttachmentError),n.Ab(2),n.jc("ngIf",!t.showAttachmentError),n.Ab(1),n.jc("ngIf",t.showAttachmentError))},directives:[g.a,f.q,f.h,h.db,h.eb,h.j,f.p,f.f,w.o,h.Q,h.U,h.R,h.kb,v,z.a,f.v,h.y,h.p,j.a,O.a,h.L],pipes:[C.e],styles:["fieldset[_ngcontent-%COMP%]{padding:16px;background:#fff;border:1px solid #e0e0e0;box-sizing:border-box}.table-label[_ngcontent-%COMP%]{font-weight:700;font-size:15px;line-height:24px;margin-bottom:8px}.modalTitle[_ngcontent-%COMP%]{font-size:16px!important}.note[_ngcontent-%COMP%]{font-size:.875rem;font-weight:400}ds-panel-header.h5[_ngcontent-%COMP%], form-ekrs-rej-psa-attachments-new-copy-table[_ngcontent-%COMP%]  .table-label, sirsim-crewan[_ngcontent-%COMP%]  h3, sirsim-instrukcja[_ngcontent-%COMP%]  h4{font-size:.875rem;line-height:1.5rem;font-weight:600;color:#0d0d0d;text-transform:none}",".container[_ngcontent-%COMP%]{display:flex}.fieldset[_ngcontent-%COMP%]{border:none;padding:0;margin:0}.fieldset[_ngcontent-%COMP%] > .ds-panel--margin[_ngcontent-%COMP%]:first-child{margin-top:0}.card[_ngcontent-%COMP%]{background-color:#fff;padding:16px;border:1px solid #e0e0e0;border-radius:2px}.p-grid[_ngcontent-%COMP%]   ds-checkbox[_ngcontent-%COMP%]     p-checkbox{margin-top:1.85rem}label[_ngcontent-%COMP%]{color:#606060;display:block;font-size:14px;padding:0}ds-table[_ngcontent-%COMP%]    >div>p-table   tr.table-row td.row-button-actions ds-button.p-mr-2:last-child{margin-right:0!important}ds-table[_ngcontent-%COMP%]    >div>p-table   th{word-break:break-word}ds-table[_ngcontent-%COMP%]    >div>p-table   .ekrs-shrink-padding{padding:.75rem .25rem}ds-inputmask[_ngcontent-%COMP%]     .p-inputtext{height:33.61px!important}ds-autocomplete[_ngcontent-%COMP%]    >div>p-autocomplete  >span>input::-moz-placeholder{text-transform:none}ds-autocomplete[_ngcontent-%COMP%]    >div>p-autocomplete  >span>input::placeholder{text-transform:none}sirsim-overlay[_ngcontent-%COMP%]   ds-table[_ngcontent-%COMP%]     .p-datatable  {padding:20px 0}ds-table[_ngcontent-%COMP%]     .custom-table-footer{padding:0 1rem;margin-bottom:1rem}"]}),e})()},fN3Q:function(e,t,o){var n=o("YF1/"),i=o("IC1n"),a=i;a.v1=n,a.v4=i,e.exports=a},fjNU:function(e,t){var o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(o){var n=new Uint8Array(16);e.exports=function(){return o(n),n}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},hwj3:function(e,t,o){"use strict";o.d(t,"a",(function(){return l}));var n=o("2kYt"),i=o("TUxC"),a=o("nIj0"),r=o("Jzyt"),s=o("29mQ"),c=o("EM62");let l=(()=>{class e{}return e.\u0275mod=c.Lb({type:e}),e.\u0275inj=c.Kb({factory:function(t){return new(t||e)},imports:[[n.c,i.hb,i.s,i.z,a.u,i.Y,r.d,s.a,i.fb,i.zb]]}),e})()},jSKm:function(e,t,o){"use strict";o.d(t,"a",(function(){return k}));var n=o("ruxD"),i=o("EM62"),a=o("nIj0"),r=o("ARIb"),s=o("Ld6Z"),c=o("TUxC"),l=o("ocpT"),d=o("2kYt"),u=o("Qrsi"),p=o("BFND"),m=o("Jzyt");function b(e,t){if(1&e){const e=i.Ub();i.Tb(0,"div",10),i.Tb(1,"ds-button",11),i.ac("onClick",(function(){i.zc(e);const t=i.cc().$implicit;return i.cc().handleTableRowAction({action:"downloadFile",key:t})})),i.dc(2,"transloco"),i.Sb(),i.Sb()}2&e&&(i.Ab(1),i.kc("pTooltip",i.ec(2,1,"psa.zalaczniki.wyswietlTrescDokumentu")))}function g(e,t){if(1&e){const e=i.Ub();i.Tb(0,"div"),i.Tb(1,"ds-button",12),i.ac("onClick",(function(){i.zc(e);const t=i.cc().$implicit;return i.cc().handleTableRowAction({action:"download",key:t})})),i.dc(2,"transloco"),i.Sb(),i.Sb()}2&e&&(i.Ab(1),i.kc("pTooltip",i.ec(2,1,"psa.zalaczniki.pobierzTrescDokumentu")))}function f(e,t){if(1&e&&(i.Tb(0,"div",8),i.Hc(1,b,3,3,"div",9),i.Hc(2,g,3,3,"div",7),i.Sb()),2&e){const e=t.$implicit,o=i.cc();i.Ab(1),i.jc("ngIf",o.isShowIconView(e)),i.Ab(1),i.jc("ngIf",o.isShowIconDownload(e))}}function h(e,t){1&e&&i.Ob(0,"sirsim-loader-page")}const w=function(e){return{actions:e}};let k=(()=>{class e{constructor(e,t,o){this.control=e,this.fileService=t,this.eformService=o,this.isLoading=!1,this.showSpinner=!1}ngOnInit(){this.form=this.control.control,this.files=[this.form.get("plik").value,...this.form.get("odpisy").value].filter(e=>null==e?void 0:e.plik).map(e=>Object.assign(Object.assign({},e.plik),{attachementForm:e})),this.initTables()}initTables(){this.sterownikPliki={key:"id",columns:[{field:"name",header:"psa.zalaczniki.nazwaDokumentu",dataType:"string"},{field:"actions",header:"Akcje",dataType:"string"}]},this.sterownikPodpisy={key:"id",columns:[{field:"osobaPodpisujaca",header:"psa.zalaczniki.modal.osobaPodpisujaca",dataType:"string"}]}}handleTableRowAction(e){this[e.action]&&this[e.action](e.key)}download(e){this.downloadFile(e,!1)}downloadFile(e,t=!0){const o=this.files.findIndex(t=>t===e);let n;o>-1&&(n=this.files[o]),n&&n.crdGuid?(this.showSpinner=!0,this.downloadFileCrd(n,t)):n.attachementForm.file&&(this.showSpinner=!0,t&&this.fileService.downloadBodyFile(n.attachementForm.file,this)||(this.fileService.downloadFile(n.attachementForm.file,t),this.showSpinner=!1))}downloadFileCrd(e,t){(t?this.eformService.downloadViewAttachment(this.formularzId,e.crdGuid):this.eformService.downloadAttachment(this.formularzId,e.crdGuid)).pipe(Object(n.a)(()=>this.showSpinner=!1)).subscribe(o=>{this.fileService.downloadToBrowser(o,e.name,t)})}isShowIconView(e){var t;return!!(null===(t=null==e?void 0:e.name)||void 0===t?void 0:t.toLowerCase())&&0===this.files.findIndex(t=>t===e)}isShowIconDownload(e){var t;if(null===(t=null==e?void 0:e.name)||void 0===t?void 0:t.toLowerCase())return!0}}return e.\u0275fac=function(t){return new(t||e)(i.Nb(a.a),i.Nb(r.a),i.Nb(s.a))},e.\u0275cmp=i.Hb({type:e,selectors:[["form-ekrs-rej-psa-attachments-new-documents-table"]],inputs:{isLoading:"isLoading",formularzId:"formularzId"},decls:14,vars:12,consts:[[1,"p-my-2",3,"formGroup"],[1,"p-grid"],[1,"p-col"],[1,"p-mb-2","table-label"],[3,"sterownik","model","loading","columnTemplates","rowAction"],["actions",""],[1,"p-grid","p-mt-2"],[4,"ngIf"],[1,"p-d-flex"],["class","p-mr-2",4,"ngIf"],[1,"p-mr-2"],["icon","pi pi-file","severity","link",3,"pTooltip","onClick"],["icon","pi pi-download","severity","link",3,"pTooltip","onClick"]],template:function(e,t){if(1&e&&(i.Tb(0,"fieldset",0),i.Tb(1,"div",1),i.Tb(2,"div",2),i.Tb(3,"div",3),i.Jc(4),i.dc(5,"transloco"),i.Sb(),i.Tb(6,"ds-table",4),i.ac("rowAction",(function(e){return t.handleTableRowAction(e)})),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Hc(7,f,3,2,"ng-template",null,5,i.Ic),i.Tb(9,"fieldset",0),i.Tb(10,"div",6),i.Tb(11,"div",2),i.Ob(12,"form-ekrs-rej-psa-attachments-new-signatures-table"),i.Sb(),i.Sb(),i.Sb(),i.Hc(13,h,1,0,"sirsim-loader-page",7)),2&e){const e=i.xc(8);i.jc("formGroup",t.form),i.Ab(4),i.Kc(i.ec(5,8,"psa.zalaczniki.modal.listaDokumentow")),i.Ab(2),i.jc("sterownik",t.sterownikPliki)("model",t.files)("loading",t.isLoading)("columnTemplates",i.oc(10,w,e)),i.Ab(3),i.jc("formGroup",t.form),i.Ab(4),i.jc("ngIf",t.showSpinner)}},directives:[a.q,a.h,c.vb,l.a,d.o,c.n,u.a,p.a],pipes:[m.e],styles:["[_nghost-%COMP%]     .p-datatable{padding-left:0;padding-right:0;padding-top:.5rem}","fieldset[_ngcontent-%COMP%]{padding:16px;background:#fff;border:1px solid #e0e0e0;box-sizing:border-box}.table-label[_ngcontent-%COMP%]{font-weight:700;font-size:15px;line-height:24px;margin-bottom:8px}.modalTitle[_ngcontent-%COMP%]{font-size:16px!important}.note[_ngcontent-%COMP%]{font-size:.875rem;font-weight:400}ds-panel-header.h5[_ngcontent-%COMP%], form-ekrs-rej-psa-attachments-new-copy-table[_ngcontent-%COMP%]  .table-label, sirsim-crewan[_ngcontent-%COMP%]  h3, sirsim-instrukcja[_ngcontent-%COMP%]  h4{font-size:.875rem;line-height:1.5rem;font-weight:600;color:#0d0d0d;text-transform:none}",".container[_ngcontent-%COMP%]{display:flex}.fieldset[_ngcontent-%COMP%]{border:none;padding:0;margin:0}.fieldset[_ngcontent-%COMP%] > .ds-panel--margin[_ngcontent-%COMP%]:first-child{margin-top:0}.card[_ngcontent-%COMP%]{background-color:#fff;padding:16px;border:1px solid #e0e0e0;border-radius:2px}.p-grid[_ngcontent-%COMP%]   ds-checkbox[_ngcontent-%COMP%]     p-checkbox{margin-top:1.85rem}label[_ngcontent-%COMP%]{color:#606060;display:block;font-size:14px;padding:0}ds-table[_ngcontent-%COMP%]    >div>p-table   tr.table-row td.row-button-actions ds-button.p-mr-2:last-child{margin-right:0!important}ds-table[_ngcontent-%COMP%]    >div>p-table   th{word-break:break-word}ds-table[_ngcontent-%COMP%]    >div>p-table   .ekrs-shrink-padding{padding:.75rem .25rem}ds-inputmask[_ngcontent-%COMP%]     .p-inputtext{height:33.61px!important}ds-autocomplete[_ngcontent-%COMP%]    >div>p-autocomplete  >span>input::-moz-placeholder{text-transform:none}ds-autocomplete[_ngcontent-%COMP%]    >div>p-autocomplete  >span>input::placeholder{text-transform:none}sirsim-overlay[_ngcontent-%COMP%]   ds-table[_ngcontent-%COMP%]     .p-datatable  {padding:20px 0}ds-table[_ngcontent-%COMP%]     .custom-table-footer{padding:0 1rem;margin-bottom:1rem}"]}),e})()},ocpT:function(e,t,o){"use strict";o.d(t,"a",(function(){return l}));var n=o("kuMc"),i=o("MWQY"),a=o("EM62"),r=o("nIj0"),s=o("TUxC"),c=o("Jzyt");let l=(()=>{class e extends i.a{constructor(e){super(),this.control=e,this.loading=!1,this.sterownikPodpisy={key:"id",columns:[{field:"osobaPodpisujaca",header:"psa.zalaczniki.modal.osobaPodpisujaca",dataType:"string"},{field:"rodzajPodpisu",header:"rodzajPodpisu",dataType:"string"}]}}ngOnInit(){this.initForm()}initForm(){const e=this.control.control.get("podpisy");this.mapPodpisyTable(e.value),e.valueChanges.pipe(Object(n.a)(this.destroy$)).subscribe(e=>this.mapPodpisyTable(e))}mapPodpisyTable(e){this.podpisy=e.map(e=>({osobaPodpisujaca:`${e.signerGivenName} ${e.signerSurname}`,rodzajPodpisu:e.signatureCategory}))}}return e.\u0275fac=function(t){return new(t||e)(a.Nb(r.a))},e.\u0275cmp=a.Hb({type:e,selectors:[["form-ekrs-rej-psa-attachments-new-signatures-table"]],inputs:{loading:"loading"},features:[a.xb],decls:4,vars:6,consts:[[1,"table-label"],[3,"sterownik","model","loading"]],template:function(e,t){1&e&&(a.Tb(0,"div",0),a.Jc(1),a.dc(2,"transloco"),a.Sb(),a.Ob(3,"ds-table",1)),2&e&&(a.Ab(1),a.Kc(a.ec(2,4,"psa.zalaczniki.modal.daneOPodpisach")),a.Ab(2),a.jc("sterownik",t.sterownikPodpisy)("model",t.podpisy)("loading",t.loading))},directives:[s.vb],pipes:[c.e],styles:["","fieldset[_ngcontent-%COMP%]{padding:16px;background:#fff;border:1px solid #e0e0e0;box-sizing:border-box}.table-label[_ngcontent-%COMP%]{font-weight:700;font-size:15px;line-height:24px;margin-bottom:8px}.modalTitle[_ngcontent-%COMP%]{font-size:16px!important}.note[_ngcontent-%COMP%]{font-size:.875rem;font-weight:400}ds-panel-header.h5[_ngcontent-%COMP%], form-ekrs-rej-psa-attachments-new-copy-table[_ngcontent-%COMP%]  .table-label, sirsim-crewan[_ngcontent-%COMP%]  h3, sirsim-instrukcja[_ngcontent-%COMP%]  h4{font-size:.875rem;line-height:1.5rem;font-weight:600;color:#0d0d0d;text-transform:none}",".container[_ngcontent-%COMP%]{display:flex}.fieldset[_ngcontent-%COMP%]{border:none;padding:0;margin:0}.fieldset[_ngcontent-%COMP%] > .ds-panel--margin[_ngcontent-%COMP%]:first-child{margin-top:0}.card[_ngcontent-%COMP%]{background-color:#fff;padding:16px;border:1px solid #e0e0e0;border-radius:2px}.p-grid[_ngcontent-%COMP%]   ds-checkbox[_ngcontent-%COMP%]     p-checkbox{margin-top:1.85rem}label[_ngcontent-%COMP%]{color:#606060;display:block;font-size:14px;padding:0}ds-table[_ngcontent-%COMP%]    >div>p-table   tr.table-row td.row-button-actions ds-button.p-mr-2:last-child{margin-right:0!important}ds-table[_ngcontent-%COMP%]    >div>p-table   th{word-break:break-word}ds-table[_ngcontent-%COMP%]    >div>p-table   .ekrs-shrink-padding{padding:.75rem .25rem}ds-inputmask[_ngcontent-%COMP%]     .p-inputtext{height:33.61px!important}ds-autocomplete[_ngcontent-%COMP%]    >div>p-autocomplete  >span>input::-moz-placeholder{text-transform:none}ds-autocomplete[_ngcontent-%COMP%]    >div>p-autocomplete  >span>input::placeholder{text-transform:none}sirsim-overlay[_ngcontent-%COMP%]   ds-table[_ngcontent-%COMP%]     .p-datatable  {padding:20px 0}ds-table[_ngcontent-%COMP%]     .custom-table-footer{padding:0 1rem;margin-bottom:1rem}"]}),e})()},r1ci:function(e,t,o){"use strict";o.d(t,"a",(function(){return r}));var n=o("AytR"),i=o("EM62"),a=o("vobO");let r=(()=>{class e{constructor(e){this.http=e}verifyDocumentFile(e){const t=new FormData;return t.append("file",e),this.http.post(n.a.ekrsApiUrl+"/api/Ucpe/documents/verifyFile",t)}verifyDocumentWithSignatures(e,t){const o=new FormData;return o.append("File",e),t.forEach(e=>{o.append("Signatures",e)}),this.http.post(n.a.ekrsApiUrl+"/api/Ucpe/documents/verifyfilewithsignatures",o)}verifyDocumentCrdWithSignatures(e,t,o){const i=new FormData;return o.forEach(e=>{i.append("Signatures",e)}),this.http.post(`${n.a.ekrsApiUrl}/api/Ucpe/documents/verifyfilewithsignatures/${e}/${t}`,i)}downloadSignedDocument(e){return this.http.get(n.a.ekrsApiUrl+"/api/Ucpe/gui/downloadsigneddocument",{params:{documentId:e}})}}return e.\u0275fac=function(t){return new(t||e)(i.Xb(a.b))},e.\u0275prov=i.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},uA0j:function(e,t,o){"use strict";o.d(t,"a",(function(){return Y}));var n=o("lNof"),i=o("2kYt"),a=o("nIj0"),r=o("PuzO"),s=o("Dand"),c=o("/VEu"),l=o("c5eT"),d=o("iEYn"),u=o("Knv4"),p=o("EIbE"),m=o("Ivfk"),b=o("whkr"),g=o("RgPt"),f=o("ToDC"),h=o("EM62");let w=(()=>{class e{}return e.\u0275mod=h.Lb({type:e}),e.\u0275inj=h.Kb({factory:function(t){return new(t||e)},imports:[[i.c,a.u,b.a,c.a,l.a,r.a,u.a,p.a,s.a,m.a,d.a,g.a,f.a]]}),e})();var k=o("HClg"),z=o("TUxC");let y=(()=>{class e{}return e.\u0275mod=h.Lb({type:e}),e.\u0275inj=h.Kb({factory:function(t){return new(t||e)},imports:[[i.c,a.u,b.a,c.a,l.a,r.a,u.a,p.a,s.a,k.a,m.a,d.a,g.a,z.o,f.a]]}),e})();var v=o("MKbv");let j=(()=>{class e{}return e.\u0275mod=h.Lb({type:e}),e.\u0275inj=h.Kb({factory:function(t){return new(t||e)},imports:[[i.c,a.u,b.a,c.a,l.a,v.a,m.a,d.a,g.a,f.a]]}),e})();var O=o("5FaW"),C=o("mcFN");let S=(()=>{class e{}return e.\u0275mod=h.Lb({type:e}),e.\u0275inj=h.Kb({factory:function(t){return new(t||e)},imports:[[a.u,i.c,b.a,c.a,l.a,C.a,O.a,m.a,d.a,g.a,f.a]]}),e})(),P=(()=>{class e{}return e.\u0275mod=h.Lb({type:e}),e.\u0275inj=h.Kb({factory:function(t){return new(t||e)},imports:[w,y,j,S]}),e})();var M=o("xkqN"),x=o("T1Ya"),T=o("q1/n"),A=o("XJqX"),I=o("Emtq"),G=o("izMj"),_=o("nIpk"),N=o("bdHW");let D=(()=>{class e{}return e.\u0275mod=h.Lb({type:e}),e.\u0275inj=h.Kb({factory:function(t){return new(t||e)},imports:[[i.c,a.u,z.w]]}),e})();var F=o("hdKQ");let R=(()=>{class e{}return e.\u0275mod=h.Lb({type:e}),e.\u0275inj=h.Kb({factory:function(t){return new(t||e)},imports:[[i.c,a.u,b.a,c.a,l.a,M.a,x.a,T.a,A.a,I.a,_.a,N.a,F.a,D,m.a,G.a,d.a,g.a,f.a]]}),e})(),E=(()=>{class e{}return e.\u0275mod=h.Lb({type:e}),e.\u0275inj=h.Kb({factory:function(t){return new(t||e)},imports:[[i.c,a.u,z.z,z.lb,z.s,z.w]]}),e})(),W=(()=>{class e{}return e.\u0275mod=h.Lb({type:e}),e.\u0275inj=h.Kb({factory:function(t){return new(t||e)},imports:[[i.c,a.u,b.a,c.a,l.a,E,m.a,d.a,g.a,f.a]]}),e})();var L=o("TBSx"),Z=o("R//x"),K=o("Ve9K");let q=(()=>{class e{}return e.\u0275mod=h.Lb({type:e}),e.\u0275inj=h.Kb({factory:function(t){return new(t||e)},imports:[[i.c,a.u,l.a,c.a,M.a,L.a,Z.a,K.a,G.a,d.a,m.a,g.a,b.a,f.a]]}),e})(),H=(()=>{class e{}return e.\u0275mod=h.Lb({type:e}),e.\u0275inj=h.Kb({factory:function(t){return new(t||e)},imports:[W,R,q]}),e})();var U=o("uRLV");let J=(()=>{class e{}return e.\u0275mod=h.Lb({type:e}),e.\u0275inj=h.Kb({factory:function(t){return new(t||e)},imports:[U.a]}),e})(),V=(()=>{class e{}return e.\u0275mod=h.Lb({type:e}),e.\u0275inj=h.Kb({factory:function(t){return new(t||e)},imports:[J]}),e})(),Y=(()=>{class e{}return e.\u0275mod=h.Lb({type:e}),e.\u0275inj=h.Kb({factory:function(t){return new(t||e)},imports:[n.a,P,H,V]}),e})()},uRLV:function(e,t,o){"use strict";o.d(t,"a",(function(){return c}));var n=o("2kYt"),i=o("Jzyt"),a=(o("X7tD"),o("nIj0")),r=o("TUxC"),s=o("EM62");let c=(()=>{class e{}return e.\u0275mod=s.Lb({type:e}),e.\u0275inj=s.Kb({factory:function(t){return new(t||e)},imports:[[n.c,a.u,i.d,r.zb,r.z,r.fb,r.s]]}),e})()},x9wd:function(e,t,o){"use strict";o.r(t),o.d(t,"CrewanModule",(function(){return d}));var n=o("TUxC"),i=o("nIj0"),a=o("2kYt"),r=o("Jzyt"),s=o("Qrsi"),c=o("ByQ7"),l=o("EM62");let d=(()=>{class e{}return e.\u0275mod=l.Lb({type:e}),e.\u0275inj=l.Kb({factory:function(t){return new(t||e)},imports:[[a.c,i.u,n.o,n.z,n.B,r.d,n.fb,s.b,c.a]]}),e})()},xoXu:function(e,t,o){"use strict";o.d(t,"a",(function(){return M}));var n=o("TUxC"),i=o("MWQY"),a=o("ruxD"),r=o("i03u"),s=o("v7LB"),c=o("EM62"),l=o("nIj0"),d=o("r1ci"),u=o("ARIb"),p=o("Jzyt"),m=o("oetf"),b=o("2kYt"),g=o("ocpT"),f=o("Pwvu"),h=o("BFND");const w=["primaryFileInput"],k=["secondaryFileInput"];function z(e,t){1&e&&(c.Tb(0,"div",12),c.Ob(1,"sirsim-instrukcja",23),c.Sb()),2&e&&(c.Ab(1),c.jc("heading","WSKAZANY PLIK NIE ZAWIERA TRE\u015aCI LUB PODPIS DOKUMENTU JEST NIEPRAWID\u0141OWY")("note","Wskaza\u0142e\u015b plik zawieraj\u0105cy sam podpis zewn\u0119trzny lub podpis w do\u0142\u0105czonym pliku jest nieprawid\u0142owy. Zweryfikuj poprawno\u015b\u0107 podpisu, podpisz dokument ponownie i do\u0142\u0105cz jako plik dokumentu poprawnie podpisany plik za\u0142\u0105cznika, plik zawieraj\u0105cy oddzielny podpis do\u0142\u0105cz w sekcji poni\u017cej."))}function y(e,t){1&e&&c.Ob(0,"sirsim-instrukcja",23),2&e&&c.jc("heading","B\u0141\u0118DNY FORMAT ZA\u0141\u0104CZNIKA")("note","Do\u0142\u0105cz plik w jednym z akceptowanych format\xf3w.")}function v(e,t){1&e&&c.Ob(0,"sirsim-instrukcja",23),2&e&&c.jc("heading","ZA\u0141\u0104CZNIK PRZEKRACZA DOPUSZCZALNY ROZMIAR")("note","Do\u0142\u0105cz plik w akceptowanym rozmiarze.")}function j(e,t){1&e&&c.Ob(0,"sirsim-instrukcja",23),2&e&&c.jc("heading","B\u0141\u0118DNA D\u0141UGO\u015a\u0106 NAZWY ZA\u0141\u0104CZNIKA")("note","Przekroczono dopuszczaln\u0105 maksymaln\u0105 liczb\u0119 50 znak\xf3w w nazwie za\u0142\u0105cznika.")}function O(e,t){if(1&e&&(c.Tb(0,"sirsim-instrukcja",24),c.Ob(1,"div",25),c.Sb()),2&e){const e=c.cc();c.jc("heading","NAZWA ZA\u0141\u0104CZNIKA ZAWIERA ZNAKI SPOZA DZIEDZINY"),c.Ab(1),c.jc("innerHTML",e.wrongFileName,c.Ac)}}function C(e,t){1&e&&c.Ob(0,"sirsim-instrukcja",23),2&e&&c.jc("heading","B\u0141\u0118DNY FORMAT ZA\u0141\u0104CZNIKA ZAWIERAJ\u0104CEGO PODPIS")("note","Dozwolone formaty plik\xf3w: .xades, .cades, .xml.sig, .pades")}function S(e,t){1&e&&c.Ob(0,"sirsim-loader-page")}const P=function(){return{standalone:!0}};let M=(()=>{class e extends i.a{constructor(e,t,o,n,i,a){super(),this.control=e,this.ucpeService=t,this.fileService=o,this.translocoService=n,this.notificationService=i,this.ftService=a,this.handleTableAction=this.ftService.handleTableAction,this.handleTableRowAction=this.ftService.handleRowAction,this.isLoading=!1,this.isLoadingSign=!1,this.validate=!1,this.showMessagePlik=!1,this.showMessageOdpis=!1,this.showMessageFileNameLenght=!1,this.showMessagePodpis=!1,this.showMessageFileSize=!1}ngOnInit(){this.form=this.control.control,this.initTable()}initTable(){this.sterownik={key:"id",columns:[{field:"name",header:"psa.zalaczniki.nazwaDokumentu",dataType:"string"}],rowButtonAction:[{action:"openDeleteDialogOdpis",severity:"link",icon:"pi pi-times"}],rowButtonActionHeader:"Dzia\u0142ania"},this.odpisy=this.form.get("odpisy"),this.podpisy=this.form.get("podpisy")}add(){const{controls:e}=this.form;e.crewan.value||e.plik.value||this.primaryFileInput.nativeElement.click()}addOdpis(){this.secondaryFileInput.nativeElement.click()}validatePlik(e){var t=e.split(".").pop().toLowerCase();if("sig"==t){if(-1==e.toLowerCase().lastIndexOf(".xml.sig"))return!1;t="xml.sig"}return!!["xml","pdf","doc","jpg","txt","rtf","xps","odt","odp","ods","docx","csv","pptx","ppt","xls","xlsx","xades","cades","xml.sig","pades"].includes(t)}validateOdpis(e){var t=e.split(".").pop().toLowerCase();if("sig"==t){if(-1==e.toLowerCase().lastIndexOf(".xml.sig"))return!1;t="xml.sig"}return!!["xades","cades","xml.sig","pades"].includes(t)}delete(e){if(e){if(this.odpis){const e=this.odpisy.value.findIndex(e=>e.plik===this.odpis);this.removeSignatures(this.odpisy.value[e].signature.documentId),this.ftService.removeAt(this.odpisy,e)}this.plik&&(this.podpisy.reset([]),this.odpisy.setValue([]),this.form.patchValue({plik:null,format:null,rozmiar:null}))}}fileAdded(e,t){this.showMessageOdpis=!1,this.showMessagePlik=!1,this.showMessagePodpis=!1,this.showMessageFileSize=!1,this.showMessageFileNameLenght=!1,this.wrongFileName=null;const o=e.files;if(1===o.length){const n=o[0].name;if(!this.isValidateNameTablicaZnakowKRS(n))return void(e.value=null);const i=n.length;if(t?(this.isLoadingSign=!0,this.validate=this.validateOdpis(n)):(this.isLoading=!0,this.validate=this.validatePlik(n)),this.validate&&i<=50){const n=o[0];if(n.size>31457280)return void(this.showMessageFileSize=!0);this.ucpeService.verifyDocumentFile(n).pipe(Object(a.a)(()=>{t?this.isLoadingSign=!1:this.isLoading=!1})).subscribe(t=>this.handleUCPEResponse(n,t,e===this.primaryFileInput.nativeElement))}else this.isLoadingSign=!1,this.isLoading=!1,i>50?this.showMessageFileNameLenght=!0:t?this.showMessageOdpis=!0:this.showMessagePlik=!0}e.value=null}isValidateNameTablicaZnakowKRS(e){const t=r.a.getWrongChars(e,s.a.regexTablicaZnakowKRS);return t&&(t.split("").forEach(t=>{e=e.replace(new RegExp(t,"g"),`<span class="errorXsdTabChars">${t}</span>`)}),this.wrongFileName=e),!t}openDeleteDialogOdpis(e){this.odpis=e,this.plik=null,this.openDialog=!0}openDeleteDialogPlik(){const{controls:e}=this.form;!e.crewan.value&&e.plik.value&&(this.plik=this.form.value.plik,this.odpis=null,this.openDialog=!0)}addMainFile(e,t){const o=this.fileService.getAttachementFormFile(e);this.form.patchValue({plik:{file:e,plik:o,signature:t},format:this.fileService.getFileExtensionForCRD(e),rozmiar:this.fileService.formatBytes(e.size)})}addSignatureFile(e,t){const o=this.fileService.getAttachementFormFile(e);this.ftService.update(this.odpisy,{file:e,plik:o,signature:t},-1)}addSignatures(e){if(!e)return;const t=this.podpisy.value;e.verifiedSignedDocument.forEach(o=>t.push(Object.assign(Object.assign({},o),{documentId:e.documentId}))),this.podpisy.setValue(t)}removeSignatures(e){let t=this.podpisy.value;t=t.filter(t=>t.documentId!==e),this.podpisy.reset(t)}mapOdpisy(e){return e.map(e=>e.plik)}handleUCPEResponse(e,t,o){o&&((null==t?void 0:t.isValidDocumentSignature)||null==t)?(this.addMainFile(e,t),this.addSignatures(t)):o&&!t.isValidDocumentSignature?this.showMessagePodpis=!0:t?(this.addSignatureFile(e,t),this.addSignatures(t)):this.notificationService.error(new n.Z({key:"overlay",closable:!1,life:1500,summary:this.translocoService.translate("blad"),detail:this.translocoService.translate("brakPodpisu")}))}}return e.\u0275fac=function(t){return new(t||e)(c.Nb(l.a),c.Nb(d.a),c.Nb(u.a),c.Nb(p.f),c.Nb(n.Eb),c.Nb(m.a))},e.\u0275cmp=c.Hb({type:e,selectors:[["form-ekrs-rej-psa-attachments-new-copy-table"]],viewQuery:function(e,t){var o;1&e&&(c.Dc(w,!0),c.Dc(k,!0)),2&e&&(c.wc(o=c.bc())&&(t.primaryFileInput=o.first),c.wc(o=c.bc())&&(t.secondaryFileInput=o.first))},features:[c.xb],decls:40,vars:42,consts:[[3,"formGroup"],["styleClass","p-panel-header-display-none",1,"p-mt-4",3,"showHeader"],[1,"p-grid"],["class","p-col-12",4,"ngIf"],[1,"p-col"],[1,"table-label"],["readonly","true",3,"ngModel","ngModelOptions","label","showClear"],[1,"p-col-fixed","p-d-flex","p-align-end","file-actions"],["severity","border",1,"p-mr-2",3,"label","disabled","onClick"],[3,"heading","note",4,"ngIf"],[3,"heading",4,"ngIf"],["styleClass","p-panel-header-display-none",3,"showHeader"],[1,"p-col-12"],[3,"sterownik","model","loading","tableAction","rowAction"],[1,"ds-table-btn-outside-left"],["label","dodaj","severity","border",3,"disabled","onClick"],[3,"loading"],["hidden","","type","file","accept","'.xml, .pdf, .doc, .jpg, .txt, .rtf\n, .xps, .odt, .odp, .ods, .docx, .csv, .pptx, .ppt, .xls\n, .xlsx, .xades, .cades, .xml.sig, .pades","id","primaryFileInput",3,"change"],["primaryFileInput",""],["hidden","","type","file","accept",".xades, .cades, .xml.sig, .pades","id","secondaryFileInput",3,"change"],["secondaryFileInput",""],["icon","pi-trash","width","350px",3,"header","message","openDialog","closed","openDialogChange"],[4,"ngIf"],[3,"heading","note"],[3,"heading"],[3,"innerHTML"]],template:function(e,t){if(1&e){const e=c.Ub();c.Tb(0,"div",0),c.Tb(1,"ds-panel",1),c.Tb(2,"div",2),c.Hc(3,z,2,2,"div",3),c.Tb(4,"div",4),c.Tb(5,"div",5),c.Jc(6),c.dc(7,"transloco"),c.Sb(),c.Ob(8,"ds-input",6),c.Sb(),c.Tb(9,"div",7),c.Tb(10,"ds-button",8),c.ac("onClick",(function(){return t.add()})),c.dc(11,"transloco"),c.Sb(),c.Tb(12,"ds-button",8),c.ac("onClick",(function(){return t.openDeleteDialogPlik()})),c.dc(13,"transloco"),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Hc(14,y,1,2,"sirsim-instrukcja",9),c.Hc(15,v,1,2,"sirsim-instrukcja",9),c.Hc(16,j,1,2,"sirsim-instrukcja",9),c.Hc(17,O,2,2,"sirsim-instrukcja",10),c.Tb(18,"ds-panel",11),c.Tb(19,"div",2),c.Tb(20,"div",12),c.Tb(21,"div",5),c.Jc(22),c.dc(23,"transloco"),c.Sb(),c.Tb(24,"ds-table",13),c.ac("tableAction",(function(e){return t.handleTableAction(e)}))("rowAction",(function(e){return t.handleTableRowAction(e)})),c.Sb(),c.Tb(25,"div",14),c.Tb(26,"ds-button",15),c.ac("onClick",(function(){return t.addOdpis()})),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Hc(27,C,1,2,"sirsim-instrukcja",9),c.Tb(28,"ds-panel",11),c.Tb(29,"div",2),c.Tb(30,"div",12),c.Ob(31,"form-ekrs-rej-psa-attachments-new-signatures-table",16),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Tb(32,"input",17,18),c.ac("change",(function(){c.zc(e);const o=c.xc(33);return t.fileAdded(o,!1)})),c.Sb(),c.Tb(34,"input",19,20),c.ac("change",(function(){c.zc(e);const o=c.xc(35);return t.fileAdded(o,!0)})),c.Sb(),c.Tb(36,"ds-confirm-dialog",21),c.ac("closed",(function(e){return t.delete(e)}))("openDialogChange",(function(e){return t.openDialog=e})),c.dc(37,"transloco"),c.dc(38,"transloco"),c.Sb(),c.Hc(39,S,1,0,"sirsim-loader-page",22)}2&e&&(c.jc("formGroup",t.form),c.Ab(1),c.jc("showHeader",!1),c.Ab(2),c.jc("ngIf",t.showMessagePodpis),c.Ab(3),c.Kc(c.ec(7,29,"psa.zalaczniki.modal.plik")),c.Ab(2),c.jc("ngModel",null==t.form.get("plik").value||null==t.form.get("plik").value.plik?null:t.form.get("plik").value.plik.name)("ngModelOptions",c.nc(41,P))("label","Nazwa pliku")("showClear",!1),c.Ab(2),c.jc("label",c.ec(11,31,"dodaj"))("disabled",t.form.get("crewan").value||t.form.get("plik").value),c.Ab(2),c.jc("label",c.ec(13,33,"usun"))("disabled",t.form.get("crewan").value||!t.form.get("plik").value),c.Ab(2),c.jc("ngIf",t.showMessagePlik),c.Ab(1),c.jc("ngIf",t.showMessageFileSize),c.Ab(1),c.jc("ngIf",t.showMessageFileNameLenght),c.Ab(1),c.jc("ngIf",t.wrongFileName),c.Ab(1),c.jc("showHeader",!1),c.Ab(4),c.Kc(c.ec(23,35,"psa.zalaczniki.modal.odpis")),c.Ab(2),c.jc("sterownik",t.sterownik)("model",t.mapOdpisy(t.form.get("odpisy").value))("loading",t.isLoadingSign),c.Ab(2),c.jc("disabled",!(null!=t.form.get("plik").value&&null!=t.form.get("plik").value.plik&&t.form.get("plik").value.plik.name)&&0==t.odpisy.value.length),c.Ab(1),c.jc("ngIf",t.showMessageOdpis),c.Ab(1),c.jc("showHeader",!1),c.Ab(3),c.jc("loading",t.isLoading),c.Ab(5),c.kc("header",c.ec(37,37,"dialogPotwierdzenia.usuniecieNaglowek")),c.kc("message",c.ec(38,39,"dialogPotwierdzenia.usuniecieWiadomosc")),c.jc("openDialog",t.openDialog),c.Ab(3),c.jc("ngIf",t.isLoadingSign||t.isLoading))},directives:[l.q,l.h,n.db,b.o,n.y,l.p,l.s,n.n,n.vb,g.a,n.t,f.a,h.a],pipes:[p.e],styles:[".file-actions[_ngcontent-%COMP%]{padding-bottom:9px}[_nghost-%COMP%]     .p-datatable{padding-left:0;padding-right:0;padding-top:.5rem}","fieldset[_ngcontent-%COMP%]{padding:16px;background:#fff;border:1px solid #e0e0e0;box-sizing:border-box}.table-label[_ngcontent-%COMP%]{font-weight:700;font-size:15px;line-height:24px;margin-bottom:8px}.modalTitle[_ngcontent-%COMP%]{font-size:16px!important}.note[_ngcontent-%COMP%]{font-size:.875rem;font-weight:400}ds-panel-header.h5[_ngcontent-%COMP%], form-ekrs-rej-psa-attachments-new-copy-table[_ngcontent-%COMP%]  .table-label, sirsim-crewan[_ngcontent-%COMP%]  h3, sirsim-instrukcja[_ngcontent-%COMP%]  h4{font-size:.875rem;line-height:1.5rem;font-weight:600;color:#0d0d0d;text-transform:none}",".container[_ngcontent-%COMP%]{display:flex}.fieldset[_ngcontent-%COMP%]{border:none;padding:0;margin:0}.fieldset[_ngcontent-%COMP%] > .ds-panel--margin[_ngcontent-%COMP%]:first-child{margin-top:0}.card[_ngcontent-%COMP%]{background-color:#fff;padding:16px;border:1px solid #e0e0e0;border-radius:2px}.p-grid[_ngcontent-%COMP%]   ds-checkbox[_ngcontent-%COMP%]     p-checkbox{margin-top:1.85rem}label[_ngcontent-%COMP%]{color:#606060;display:block;font-size:14px;padding:0}ds-table[_ngcontent-%COMP%]    >div>p-table   tr.table-row td.row-button-actions ds-button.p-mr-2:last-child{margin-right:0!important}ds-table[_ngcontent-%COMP%]    >div>p-table   th{word-break:break-word}ds-table[_ngcontent-%COMP%]    >div>p-table   .ekrs-shrink-padding{padding:.75rem .25rem}ds-inputmask[_ngcontent-%COMP%]     .p-inputtext{height:33.61px!important}ds-autocomplete[_ngcontent-%COMP%]    >div>p-autocomplete  >span>input::-moz-placeholder{text-transform:none}ds-autocomplete[_ngcontent-%COMP%]    >div>p-autocomplete  >span>input::placeholder{text-transform:none}sirsim-overlay[_ngcontent-%COMP%]   ds-table[_ngcontent-%COMP%]     .p-datatable  {padding:20px 0}ds-table[_ngcontent-%COMP%]     .custom-table-footer{padding:0 1rem;margin-bottom:1rem}"]}),e})()}}]);